<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>timeSync_RuntimeVar_t Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">timeSync_RuntimeVar_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Runtime variables for Time Sync implementation.  
 <a href="structtime_sync___runtime_var__t.html#details">More...</a></p>

<p><code>#include &lt;icss_timeSyncApi.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5e312a452d33e79a02da35dd10e3c6cd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a5e312a452d33e79a02da35dd10e3c6cd">enabled</a></td></tr>
<tr class="separator:a5e312a452d33e79a02da35dd10e3c6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90d2255b0de077c51770b588a72a982"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#ac90d2255b0de077c51770b588a72a982">stateMachine</a></td></tr>
<tr class="memdesc:ac90d2255b0de077c51770b588a72a982"><td class="mdescLeft">&#160;</td><td class="mdescRight">PTP State machine used internally by driver This is a bitmap Bit 0 : Set 1 if First adjustment done Bit 1 : Set 1 if delay has been computed Bit 2 : Set 1 if sync interval has been computed Bit 3 : Set 1 if device is in sync with master if first 3 bits are set then clock adjustment is performed.  <a href="#ac90d2255b0de077c51770b588a72a982">More...</a><br /></td></tr>
<tr class="separator:ac90d2255b0de077c51770b588a72a982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada459bfb5c38b6de66f80f9dace7e765"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#ada459bfb5c38b6de66f80f9dace7e765">pDelReqSequenceID</a> [NUM_PORTS]</td></tr>
<tr class="separator:ada459bfb5c38b6de66f80f9dace7e765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d054805debd44ccfa48b6791c745d1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a91d054805debd44ccfa48b6791c745d1">delReqSequenceID</a></td></tr>
<tr class="separator:a91d054805debd44ccfa48b6791c745d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e00e2fe87bf31e005fff73e17c2cbe"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a62e00e2fe87bf31e005fff73e17c2cbe">syncSequenceID</a></td></tr>
<tr class="separator:a62e00e2fe87bf31e005fff73e17c2cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde8baf4f30acbe083eb89fc750657bd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#abde8baf4f30acbe083eb89fc750657bd">announceSequenceID</a></td></tr>
<tr class="separator:abde8baf4f30acbe083eb89fc750657bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258808699559cbf74a4667c8710196c7"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a258808699559cbf74a4667c8710196c7">curSyncSeqId</a> [NUM_PORTS]</td></tr>
<tr class="separator:a258808699559cbf74a4667c8710196c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5302379473ca5197f5c17b7e9ed8fe5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#ad5302379473ca5197f5c17b7e9ed8fe5">currSyncInterval</a></td></tr>
<tr class="separator:ad5302379473ca5197f5c17b7e9ed8fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d533127dd4a88ec8dec9b90cc4a440"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a51d533127dd4a88ec8dec9b90cc4a440">ltaSyncInterval</a></td></tr>
<tr class="separator:a51d533127dd4a88ec8dec9b90cc4a440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9251fcaba3333d1107770cefb2115015"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a9251fcaba3333d1107770cefb2115015">firstSyncInterval</a></td></tr>
<tr class="separator:a9251fcaba3333d1107770cefb2115015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fae061243ac925f6f0e4bce3700d5cf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a8fae061243ac925f6f0e4bce3700d5cf">currOffset</a></td></tr>
<tr class="separator:a8fae061243ac925f6f0e4bce3700d5cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d04d100b7389d39adb45a5fc78881f5"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a4d04d100b7389d39adb45a5fc78881f5">prevOffset</a></td></tr>
<tr class="separator:a4d04d100b7389d39adb45a5fc78881f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f49cad5fa3238a4f9a24da149a409bf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a1f49cad5fa3238a4f9a24da149a409bf">initialOffset</a></td></tr>
<tr class="separator:a1f49cad5fa3238a4f9a24da149a409bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac061bad7afda0359a7608b018955de24"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#ac061bad7afda0359a7608b018955de24">syncPortNum</a></td></tr>
<tr class="separator:ac061bad7afda0359a7608b018955de24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ae81730c5e3f1597801c3ce9d99bf5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a19ae81730c5e3f1597801c3ce9d99bf5">pathDelay</a> [NUM_PORTS]</td></tr>
<tr class="separator:a19ae81730c5e3f1597801c3ce9d99bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad292d8248e913160830f335e1dc0f2db"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#ad292d8248e913160830f335e1dc0f2db">clockDrift</a></td></tr>
<tr class="separator:ad292d8248e913160830f335e1dc0f2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb38b19de24916a2233bd7a25a69665"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#aadb38b19de24916a2233bd7a25a69665">avgCorrectionField</a></td></tr>
<tr class="separator:aadb38b19de24916a2233bd7a25a69665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5874017a69d17f14d88fe94184452d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a6a5874017a69d17f14d88fe94184452d">tickCounter</a></td></tr>
<tr class="separator:a6a5874017a69d17f14d88fe94184452d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95902a8ed0f58825c61df0ad8223ef16"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a95902a8ed0f58825c61df0ad8223ef16">syncLastSeenCounter</a></td></tr>
<tr class="separator:a95902a8ed0f58825c61df0ad8223ef16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7062d708e17bf3ce38851b21a091daeb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a7062d708e17bf3ce38851b21a091daeb">syncTimeoutInterval</a></td></tr>
<tr class="separator:a7062d708e17bf3ce38851b21a091daeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6552d3f44c8663fdbca257755f2d1386"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtime_sync___runtime_var__t.html#a6552d3f44c8663fdbca257755f2d1386">forced2step</a> [NUM_PORTS]</td></tr>
<tr class="separator:a6552d3f44c8663fdbca257755f2d1386"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Runtime variables for Time Sync implementation. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="abde8baf4f30acbe083eb89fc750657bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t timeSync_RuntimeVar_t::announceSequenceID</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sequence ID used for announce frames </p>

</div>
</div>
<a class="anchor" id="aadb38b19de24916a2233bd7a25a69665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::avgCorrectionField</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Running average of correction field in Sync frame </p>

</div>
</div>
<a class="anchor" id="ad292d8248e913160830f335e1dc0f2db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::clockDrift</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Difference between current and previous offset </p>

</div>
</div>
<a class="anchor" id="a8fae061243ac925f6f0e4bce3700d5cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t timeSync_RuntimeVar_t::currOffset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset from master : current value </p>

</div>
</div>
<a class="anchor" id="ad5302379473ca5197f5c17b7e9ed8fe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::currSyncInterval</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sync interval between last two sync frames </p>

</div>
</div>
<a class="anchor" id="a258808699559cbf74a4667c8710196c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t timeSync_RuntimeVar_t::curSyncSeqId[NUM_PORTS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current sequence id from Sync frame </p>

</div>
</div>
<a class="anchor" id="a91d054805debd44ccfa48b6791c745d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t timeSync_RuntimeVar_t::delReqSequenceID</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sequence ID used for Delay request frames </p>

</div>
</div>
<a class="anchor" id="a5e312a452d33e79a02da35dd10e3c6cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t timeSync_RuntimeVar_t::enabled</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable/Disable status </p>

</div>
</div>
<a class="anchor" id="a9251fcaba3333d1107770cefb2115015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::firstSyncInterval</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>First sync interval value </p>

</div>
</div>
<a class="anchor" id="a6552d3f44c8663fdbca257755f2d1386"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t timeSync_RuntimeVar_t::forced2step[NUM_PORTS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to indicate that forced 2-step mode is active </p>

</div>
</div>
<a class="anchor" id="a1f49cad5fa3238a4f9a24da149a409bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t timeSync_RuntimeVar_t::initialOffset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initial offset. Taken when adjustment settles down. </p>

</div>
</div>
<a class="anchor" id="a51d533127dd4a88ec8dec9b90cc4a440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::ltaSyncInterval</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Long term average calculated using an exponential filter </p>

</div>
</div>
<a class="anchor" id="a19ae81730c5e3f1597801c3ce9d99bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::pathDelay[NUM_PORTS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Line delay or Peer Delay for each port </p>

</div>
</div>
<a class="anchor" id="ada459bfb5c38b6de66f80f9dace7e765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t timeSync_RuntimeVar_t::pDelReqSequenceID[NUM_PORTS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sequence ID to be sent for Delay Request/Pdelay Request packets </p>

</div>
</div>
<a class="anchor" id="a4d04d100b7389d39adb45a5fc78881f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t timeSync_RuntimeVar_t::prevOffset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset from master : present value </p>

</div>
</div>
<a class="anchor" id="ac90d2255b0de077c51770b588a72a982"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t timeSync_RuntimeVar_t::stateMachine</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PTP State machine used internally by driver This is a bitmap Bit 0 : Set 1 if First adjustment done Bit 1 : Set 1 if delay has been computed Bit 2 : Set 1 if sync interval has been computed Bit 3 : Set 1 if device is in sync with master if first 3 bits are set then clock adjustment is performed. </p>
<p>PTP State machine. This is a bitmask </p>

</div>
</div>
<a class="anchor" id="a95902a8ed0f58825c61df0ad8223ef16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::syncLastSeenCounter</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ageing counter to detect missed Sync frames </p>

</div>
</div>
<a class="anchor" id="ac061bad7afda0359a7608b018955de24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t timeSync_RuntimeVar_t::syncPortNum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port number on which master is connected </p>

</div>
</div>
<a class="anchor" id="a62e00e2fe87bf31e005fff73e17c2cbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t timeSync_RuntimeVar_t::syncSequenceID</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sequence ID used for Sync frames </p>

</div>
</div>
<a class="anchor" id="a7062d708e17bf3ce38851b21a091daeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t timeSync_RuntimeVar_t::syncTimeoutInterval</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ageing counter is compared against this value to detect missed sync frames. 1.5x the sync interval </p>

</div>
</div>
<a class="anchor" id="a6a5874017a69d17f14d88fe94184452d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t timeSync_RuntimeVar_t::tickCounter</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>background tick counter, increments inside TimeSync_BackgroundTask() </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>icss_timeSyncApi.h</li>
</ul>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
