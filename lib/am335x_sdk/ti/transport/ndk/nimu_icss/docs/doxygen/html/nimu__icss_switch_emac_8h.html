<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nimu_icssSwitchEmac.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nimu_icssSwitchEmac.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Include file for helper and data types functions used to implement NDK NIMU transport interface for ICSS.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ti/drv/icss_emac/icss_emacStatistics.h&quot;</code><br />
<code>#include &quot;ti/transport/ndk/nimu_icss/nimu_icssIoctl.h&quot;</code><br />
<code>#include &quot;<a class="el" href="nimu__icss_eth_8h.html">ti/transport/ndk/nimu_icss/nimu_icssEth.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n_i_m_u___icss_emac_pkt__s.html">NIMU_IcssEmacPkt_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NIMU_IcssEmacPkt.  <a href="struct_n_i_m_u___icss_emac_pkt__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n_i_m_u___icss_addr_config__s.html">NIMU_IcssAddrConfig_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAC addresses configuration Structure.  <a href="struct_n_i_m_u___icss_addr_config__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n_i_m_u___icss_device__s.html">NIMU_IcssDevice_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">EMAC Main Device Instance Structure.  <a href="struct_n_i_m_u___icss_device__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a831070ed9c4cf9a47f7d3d4f197eb106"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a831070ed9c4cf9a47f7d3d4f197eb106">NIMU_ICSS_NUM_PORTS</a>&#160;&#160;&#160;((uint32_t)3U)</td></tr>
<tr class="separator:a831070ed9c4cf9a47f7d3d4f197eb106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037b9728d57458969a20950a5e304dec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a037b9728d57458969a20950a5e304dec">NIMU_ICSS_NUM_MAC_PORTS</a>&#160;&#160;&#160;((uint32_t)2U)</td></tr>
<tr class="separator:a037b9728d57458969a20950a5e304dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51930d6949bc4afe529a5dbe5f248a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#af51930d6949bc4afe529a5dbe5f248a5">NIMU_ICSS_EMAC_PKT_FLAGS_SOP</a>&#160;&#160;&#160;((uint32_t)0x80000000U)</td></tr>
<tr class="separator:af51930d6949bc4afe529a5dbe5f248a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb70168a4f67b7efac668b10d288aa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a4eb70168a4f67b7efac668b10d288aa5">NIMU_ICSS_EMAC_PKT_FLAGS_EOP</a>&#160;&#160;&#160;((uint32_t)0x40000000U)</td></tr>
<tr class="separator:a4eb70168a4f67b7efac668b10d288aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8096e8d55b0ee08b6d9914dd7df2327"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#ae8096e8d55b0ee08b6d9914dd7df2327">NIMU_ICSS_DEFAULT_MDIOBUSFREQ</a>&#160;&#160;&#160;((uint32_t)2200000U)</td></tr>
<tr class="separator:ae8096e8d55b0ee08b6d9914dd7df2327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebc0bb26fd33f6fb67ec4a2f538932c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#adebc0bb26fd33f6fb67ec4a2f538932c">NIMU_ICSS_DEFAULT_MDIOCLOCKFREQ</a>&#160;&#160;&#160;((uint32_t)200000000U)</td></tr>
<tr class="separator:adebc0bb26fd33f6fb67ec4a2f538932c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083ad7dc732c39bc214cc6e7cc5c12fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a083ad7dc732c39bc214cc6e7cc5c12fc">NIMU_ICSS_ALE_AGE_OUT_TIME</a>&#160;&#160;&#160;((uint32_t)300000)</td></tr>
<tr class="separator:a083ad7dc732c39bc214cc6e7cc5c12fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cc30d404c5eb0fc1957f259b1f5468"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a09cc30d404c5eb0fc1957f259b1f5468">NIMU_ICSS_SUCCESS</a>&#160;&#160;&#160;((uint32_t)0U)</td></tr>
<tr class="separator:a09cc30d404c5eb0fc1957f259b1f5468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd003e8cad8513f6b727d24df4d01ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a9bd003e8cad8513f6b727d24df4d01ee">NIMU_ICSS_INVALID_PARAM</a>&#160;&#160;&#160;((uint32_t)1U)</td></tr>
<tr class="separator:a9bd003e8cad8513f6b727d24df4d01ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb799af3261d3410b019c39959bbbb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a2bb799af3261d3410b019c39959bbbb4">NIMU_ICSS_ERR_TX_OUT_OF_BD</a>&#160;&#160;&#160;((uint32_t)2U)</td></tr>
<tr class="separator:a2bb799af3261d3410b019c39959bbbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8302b0fd2a32d9620f04164aad1c87d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a8302b0fd2a32d9620f04164aad1c87d8">NIMU_ICSS_ERR_BADPACKET</a>&#160;&#160;&#160;((uint32_t)3U)</td></tr>
<tr class="separator:a8302b0fd2a32d9620f04164aad1c87d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9734834f02df62eb99c34207007e8fe5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a9734834f02df62eb99c34207007e8fe5">NIMU_ICSS_INTERNAL_FAILURE</a>&#160;&#160;&#160;((uint32_t)4U)</td></tr>
<tr class="separator:a9734834f02df62eb99c34207007e8fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42174b338b8d8df2cb7740c26473dd06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a42174b338b8d8df2cb7740c26473dd06">NIMU_ICSS_INVALID_PORT</a>&#160;&#160;&#160;((uint32_t)5U)</td></tr>
<tr class="separator:a42174b338b8d8df2cb7740c26473dd06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a84525504342c268de0301abce94f5e8a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_n_i_m_u___icss_emac_pkt__s.html">NIMU_IcssEmacPkt_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a84525504342c268de0301abce94f5e8a">NIMU_IcssEmacPkt</a></td></tr>
<tr class="memdesc:a84525504342c268de0301abce94f5e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">NIMU_IcssEmacPkt.  <a href="#a84525504342c268de0301abce94f5e8a">More...</a><br /></td></tr>
<tr class="separator:a84525504342c268de0301abce94f5e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f4c859f85ecad81f824e12b3595ab2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9f4c859f85ecad81f824e12b3595ab2"></a>
typedef struct <a class="el" href="struct_n_i_m_u___icss_addr_config__s.html">NIMU_IcssAddrConfig_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#ad9f4c859f85ecad81f824e12b3595ab2">NIMU_IcssAddrConfig</a></td></tr>
<tr class="memdesc:ad9f4c859f85ecad81f824e12b3595ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAC addresses configuration Structure. <br /></td></tr>
<tr class="separator:ad9f4c859f85ecad81f824e12b3595ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fda0d319df93526f526c42c28d959a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fda0d319df93526f526c42c28d959a1"></a>
typedef struct <a class="el" href="struct_n_i_m_u___icss_device__s.html">NIMU_IcssDevice_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a2fda0d319df93526f526c42c28d959a1">NIMU_IcssDevice</a></td></tr>
<tr class="memdesc:a2fda0d319df93526f526c42c28d959a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">EMAC Main Device Instance Structure. <br /></td></tr>
<tr class="separator:a2fda0d319df93526f526c42c28d959a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a844e765225701ffbdb121af92a5efdf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a844e765225701ffbdb121af92a5efdf0">NIMU_ICSS_openPeripheral</a> (<a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *pi)</td></tr>
<tr class="memdesc:a844e765225701ffbdb121af92a5efdf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the EMAC peripheral at the given physical index and initializes it to an embryonic state.  <a href="#a844e765225701ffbdb121af92a5efdf0">More...</a><br /></td></tr>
<tr class="separator:a844e765225701ffbdb121af92a5efdf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866dc644841cd14596406a0216d253c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a866dc644841cd14596406a0216d253c3">NIMU_ICSS_closePeripheral</a> (<a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *pi)</td></tr>
<tr class="memdesc:a866dc644841cd14596406a0216d253c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closed the EMAC peripheral indicated by the supplied instance handle. When called, the EMAC device will shutdown both send and receive operations, and free all pending transmit and receive packets.  <a href="#a866dc644841cd14596406a0216d253c3">More...</a><br /></td></tr>
<tr class="separator:a866dc644841cd14596406a0216d253c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57144366e1c07821f767ec478ba57048"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a57144366e1c07821f767ec478ba57048">NIMU_ICSS_getStatistics</a> (<a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *pi, <a class="el" href="struct_n_i_m_u___icss_statistics__s.html">NIMU_IcssStatistics</a> *pStatistics, uint8_t portNo)</td></tr>
<tr class="memdesc:a57144366e1c07821f767ec478ba57048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to get the current device statistics. The statistics structure contains a collection of event counts for various packet sent and receive properties. Reading the statistics also clears the current statistic counters, so the values read represent a delta from the last call.  <a href="#a57144366e1c07821f767ec478ba57048">More...</a><br /></td></tr>
<tr class="separator:a57144366e1c07821f767ec478ba57048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6779ea3c5360a1aedf77e7c17460295d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6779ea3c5360a1aedf77e7c17460295d"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a6779ea3c5360a1aedf77e7c17460295d">NIMU_ICSS_clearStatistics</a> (<a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *pi, uint8_t portNo)</td></tr>
<tr class="memdesc:a6779ea3c5360a1aedf77e7c17460295d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to clear the current device statistics for a particular port. <br /></td></tr>
<tr class="separator:a6779ea3c5360a1aedf77e7c17460295d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670dd148d39459a1ca400769ed61debb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a670dd148d39459a1ca400769ed61debb"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a670dd148d39459a1ca400769ed61debb">NIMU_ICSS_setConfig</a> (<a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *pi, void *pBuf, uint32_t size)</td></tr>
<tr class="memdesc:a670dd148d39459a1ca400769ed61debb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to perform various get/set operations on the EMAC ALE table, statistics counters etc. <br /></td></tr>
<tr class="separator:a670dd148d39459a1ca400769ed61debb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749b5e8c004d200dc166f678c321ae44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a749b5e8c004d200dc166f678c321ae44"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a749b5e8c004d200dc166f678c321ae44">NIMU_ICSS_sendPacket</a> (Handle hEMAC, <a class="el" href="nimu__icss_switch_emac_8h.html#a84525504342c268de0301abce94f5e8a">NIMU_IcssEmacPkt</a> *pPkt)</td></tr>
<tr class="memdesc:a749b5e8c004d200dc166f678c321ae44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Ethernet data packet out the EMAC device. On a non-error return, the EMAC device takes ownership of the packet. The packet is returned to the application's free pool once it has been transmitted. <br /></td></tr>
<tr class="separator:a749b5e8c004d200dc166f678c321ae44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f095a79ac0ba061af10987ed2d9f1b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#ad5f095a79ac0ba061af10987ed2d9f1b">NIMU_ICSS_rxServiceCheck</a> (ICSS_EmacHandle hEMAC, int32_t prioQueue)</td></tr>
<tr class="memdesc:ad5f095a79ac0ba061af10987ed2d9f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called every time there is an EMAC device Rx interrupt to process the packet.  <a href="#ad5f095a79ac0ba061af10987ed2d9f1b">More...</a><br /></td></tr>
<tr class="separator:ad5f095a79ac0ba061af10987ed2d9f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566fed1c55162e0bf1dc8e701eb8e0f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a566fed1c55162e0bf1dc8e701eb8e0f1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_switch_emac_8h.html#a566fed1c55162e0bf1dc8e701eb8e0f1">NIMU_ICSS_packetInit</a> (<a class="el" href="nimu__icss_switch_emac_8h.html#a84525504342c268de0301abce94f5e8a">NIMU_IcssEmacPkt</a> *pNimuPacket)</td></tr>
<tr class="memdesc:a566fed1c55162e0bf1dc8e701eb8e0f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function initialize an NIMU_IcssEmacPkt to receive packets. <br /></td></tr>
<tr class="separator:a566fed1c55162e0bf1dc8e701eb8e0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Include file for helper and data types functions used to implement NDK NIMU transport interface for ICSS. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a083ad7dc732c39bc214cc6e7cc5c12fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_ALE_AGE_OUT_TIME&#160;&#160;&#160;((uint32_t)300000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeperiod (in ticks) after which Learning Age out function is called to age the table. This divided by 100 gives the number of BIOS ticks </p>

</div>
</div>
<a class="anchor" id="ae8096e8d55b0ee08b6d9914dd7df2327"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_DEFAULT_MDIOBUSFREQ&#160;&#160;&#160;((uint32_t)2200000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ICSS MDIO Bus Frequency </p>

</div>
</div>
<a class="anchor" id="adebc0bb26fd33f6fb67ec4a2f538932c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_DEFAULT_MDIOCLOCKFREQ&#160;&#160;&#160;((uint32_t)200000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ICSS MDIO Clock Frequency </p>

</div>
</div>
<a class="anchor" id="a4eb70168a4f67b7efac668b10d288aa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_EMAC_PKT_FLAGS_EOP&#160;&#160;&#160;((uint32_t)0x40000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of packet </p>

</div>
</div>
<a class="anchor" id="af51930d6949bc4afe529a5dbe5f248a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_EMAC_PKT_FLAGS_SOP&#160;&#160;&#160;((uint32_t)0x80000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start of packet </p>

</div>
</div>
<a class="anchor" id="a8302b0fd2a32d9620f04164aad1c87d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_ERR_BADPACKET&#160;&#160;&#160;((uint32_t)3U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Supplied packet was invalid </p>

</div>
</div>
<a class="anchor" id="a2bb799af3261d3410b019c39959bbbb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_ERR_TX_OUT_OF_BD&#160;&#160;&#160;((uint32_t)2U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tx ran out of Buffer descriptors to use. </p>

</div>
</div>
<a class="anchor" id="a9734834f02df62eb99c34207007e8fe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_INTERNAL_FAILURE&#160;&#160;&#160;((uint32_t)4U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EMAC Internal failure </p>

</div>
</div>
<a class="anchor" id="a9bd003e8cad8513f6b727d24df4d01ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_INVALID_PARAM&#160;&#160;&#160;((uint32_t)1U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function or calling parameter is invalid </p>

</div>
</div>
<a class="anchor" id="a42174b338b8d8df2cb7740c26473dd06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_INVALID_PORT&#160;&#160;&#160;((uint32_t)5U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invalid Port Specified </p>

</div>
</div>
<a class="anchor" id="a037b9728d57458969a20950a5e304dec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_NUM_MAC_PORTS&#160;&#160;&#160;((uint32_t)2U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MAC Port Count </p>

</div>
</div>
<a class="anchor" id="a831070ed9c4cf9a47f7d3d4f197eb106"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_NUM_PORTS&#160;&#160;&#160;((uint32_t)3U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port Count </p>

</div>
</div>
<a class="anchor" id="a09cc30d404c5eb0fc1957f259b1f5468"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_ICSS_SUCCESS&#160;&#160;&#160;((uint32_t)0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Success code </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a84525504342c268de0301abce94f5e8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_n_i_m_u___icss_emac_pkt__s.html">NIMU_IcssEmacPkt_s</a>  <a class="el" href="nimu__icss_switch_emac_8h.html#a84525504342c268de0301abce94f5e8a">NIMU_IcssEmacPkt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NIMU_IcssEmacPkt. </p>
<p>The packet structure defines the basic unit of memory used to hold data packets for the EMAC device. A packet is comprised of one or more packet buffers. Each packet buffer contains a packet buffer header, and a pointer to the buffer data. The NIMU_IcssEmacPkt structure defines the packet buffer header.</p>
<p>The pDataBuffer field points to the packet data. This is set when the buffer is allocated, and is not altered.</p>
<p>BufferLen holds the the total length of the data buffer that is used to store the packet (or packet fragment). This size is set by the entity that originally allocates the buffer, and is not altered.</p>
<p>The Flags field contains additional information about the packet</p>
<p>ValidLen holds the length of the valid data currently contained in the data buffer.</p>
<p>DataOffset is the byte offset from the start of the data buffer to the first byte of valid data. Thus (ValidLen+DataOffet)&lt;=BufferLen.</p>
<p>Note that for receive buffer packets, the DataOffset field may be assigned before there is any valid data in the packet buffer. This allows the application to reserve space at the top of data buffer for private use. In all instances, the DataOffset field must be valid for all packets handled by EMAC.</p>
<p>The data portion of the packet buffer represents a packet or a fragment of a larger packet. This is determined by the Flags parameter. At the start of every packet, the SOP bit is set in Flags. If the EOP bit is also set, then the packet is not fragmented. Otherwise; the next packet structure pointed to by the pNext field will contain the next fragment in the packet. On either type of buffer, when the SOP bit is set in Flags, then the PktChannel, PktLength, and PktFrags fields must also be valid. These fields contain additional information about the packet.</p>
<p>The PktChannel field detetmines what channel the packet has arrived on, or what channel it should be transmitted on. The EMAC library supports only a single receive channel, but allows for up to eight transmit channels. Transmit channels can be treated as round-robin or priority queues.</p>
<p>The PktLength field holds the size of the entire packet. On single frag packets (both SOP and EOP set in BufFlags), PktLength and ValidLen will be equal.</p>
<p>The PktFrags field holds the number of fragments (NIMU_IcssEmacPkt records) used to describe the packet. If more than 1 frag is present, the first record must have NIMU_ICSS_EMAC_PKT_FLAGS_SOP flag set, with corresponding fields validated. Each frag/record must be linked list using the pNext field, and the final frag/record must have NIMU_ICSS_EMAC_PKT_FLAGS_EOP flag set and pNext=0.</p>
<p>In systems where the packet resides in cacheable memory, the data buffer must start on a cache line boundary and be an even multiple of cache lines in size. The NIMU_IcssEmacPkt header must not appear in the same cache line as the data portion of the packet. On multi-fragment packets, some packet fragments may reside in cacheable memory where others do not.</p>
<p>It is up to the caller to assure that all packet buffers residing in cacheable memory are not currently stored in L1 or L2 cache when passed to any EMAC function. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a866dc644841cd14596406a0216d253c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NIMU_ICSS_closePeripheral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *&#160;</td>
          <td class="paramname"><em>pi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closed the EMAC peripheral indicated by the supplied instance handle. When called, the EMAC device will shutdown both send and receive operations, and free all pending transmit and receive packets. </p>
<p>The function returns zero on success, or an error code on failure. Possible error code include: NIMU_ICSS_INVALID_PARAM - A calling parameter is invalid </p>

</div>
</div>
<a class="anchor" id="a57144366e1c07821f767ec478ba57048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NIMU_ICSS_getStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *&#160;</td>
          <td class="paramname"><em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_n_i_m_u___icss_statistics__s.html">NIMU_IcssStatistics</a> *&#160;</td>
          <td class="paramname"><em>pStatistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>portNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to get the current device statistics. The statistics structure contains a collection of event counts for various packet sent and receive properties. Reading the statistics also clears the current statistic counters, so the values read represent a delta from the last call. </p>
<p>The statistics information is copied into the structure pointed to by the pStatistics argument. The function returns zero on success, or an error code on failure. Possible error code include: NIMU_ICSS_INVALID_PARAM - A calling parameter is invalid </p>

</div>
</div>
<a class="anchor" id="a844e765225701ffbdb121af92a5efdf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NIMU_ICSS_openPeripheral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nimu__icss_eth_8h.html#a9ef1984a01e51df3e3d4507e989ce2c7">NIMU_IcssPdInfo</a> *&#160;</td>
          <td class="paramname"><em>pi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the EMAC peripheral at the given physical index and initializes it to an embryonic state. </p>
<p>The calling application must supply a operating configuration that includes a callback function table. Data from this config structure is copied into the device's internal instance structure so the structure may be discarded after <a class="el" href="nimu__icss_switch_emac_8h.html#a844e765225701ffbdb121af92a5efdf0" title="Opens the EMAC peripheral at the given physical index and initializes it to an embryonic state...">NIMU_ICSS_openPeripheral()</a> returns. In order to change an item in the configuration, the EMAC device must be closed and then re-opened with the new configuration. </p><pre class="fragment">The application layer may pass in an hApplication callback handle,
</pre><p> that will be supplied by the EMAC device when making calls to the application callback functions.</p>
<p>An EMAC device handle is written to phEMAC. This handle must be saved by the caller and then passed to other EMAC device functions.</p>
<p>The default receive filter prevents normal packets from being received until the receive filter is specified by calling EMAC_receiveFilter().</p>
<p>A device reset is achieved by calling <a class="el" href="nimu__icss_switch_emac_8h.html#a866dc644841cd14596406a0216d253c3" title="Closed the EMAC peripheral indicated by the supplied instance handle. When called, the EMAC device will shutdown both send and receive operations, and free all pending transmit and receive packets. ">NIMU_ICSS_closePeripheral()</a> followed by <a class="el" href="nimu__icss_switch_emac_8h.html#a844e765225701ffbdb121af92a5efdf0" title="Opens the EMAC peripheral at the given physical index and initializes it to an embryonic state...">NIMU_ICSS_openPeripheral()</a>.</p>
<p>The function returns zero on success, or an error code on failure.</p>
<p>Possible error codes include: SWITCH_ERR_DEV_ALREADY_OPEN - The device is already open NIMU_ICSS_INVALID_PARAM - A calling parameter is invalid </p>

</div>
</div>
<a class="anchor" id="ad5f095a79ac0ba061af10987ed2d9f1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NIMU_ICSS_rxServiceCheck </td>
          <td>(</td>
          <td class="paramtype">ICSS_EmacHandle&#160;</td>
          <td class="paramname"><em>hEMAC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>prioQueue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called every time there is an EMAC device Rx interrupt to process the packet. </p>
<p>Note that the application has the responsibility for mapping the physical device index to the correct EMAC_serviceCheck() function. If more than one EMAC device is on the same interrupt, the function must be called for each device. </p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
