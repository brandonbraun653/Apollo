<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nimu_icssInternal.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">nimu_icssInternal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Internal Include file for NIMU Packet Architecture.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;ti/ndk/inc/stkmain.h&quot;</code><br />
<code>#include &quot;ti/ndk/inc/os/osif.h&quot;</code><br />
<code>#include &quot;ti/drv/icss_emac/icss_emacDrv.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pdinfo.html">_pdinfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet device information.  <a href="struct__pdinfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a39260d9022a638eafaaaafff02295d42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#a39260d9022a638eafaaaafff02295d42">PKT_PREPAD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a39260d9022a638eafaaaafff02295d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4eecbe43aaf70c57450be56fd39ae1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#acf4eecbe43aaf70c57450be56fd39ae1">RAM_MCAST</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acf4eecbe43aaf70c57450be56fd39ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11f9e1161d0d44ee69b9310fecc68dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#af11f9e1161d0d44ee69b9310fecc68dd">HASH_MCAST</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af11f9e1161d0d44ee69b9310fecc68dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42fad7aaa86a118211d75b8fe2fa413"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#ac42fad7aaa86a118211d75b8fe2fa413">PKT_MAX_MCAST</a>&#160;&#160;&#160;31</td></tr>
<tr class="separator:ac42fad7aaa86a118211d75b8fe2fa413"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab619096c8ea552f67d4e194f5ca068c8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__pdinfo.html">_pdinfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a></td></tr>
<tr class="memdesc:ab619096c8ea552f67d4e194f5ca068c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet device information.  <a href="#ab619096c8ea552f67d4e194f5ca068c8">More...</a><br /></td></tr>
<tr class="separator:ab619096c8ea552f67d4e194f5ca068c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">HwPktInit</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Initializes the device MAC address to use.Not used Currently</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether mac address has been initialized 1 - true 0 - false </dd></dl>
</div></td></tr>
<tr class="memitem:a4eb3fa7ba1a3edae4ff6b6ff8ca492e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4eb3fa7ba1a3edae4ff6b6ff8ca492e5"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktInit</b> ()</td></tr>
<tr class="separator:a4eb3fa7ba1a3edae4ff6b6ff8ca492e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HwPktShutdown</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>none</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
</div></td></tr>
<tr class="memitem:ace1b75aff5bc526a4118fb6d8847083c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace1b75aff5bc526a4118fb6d8847083c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktShutdown</b> ()</td></tr>
<tr class="separator:ace1b75aff5bc526a4118fb6d8847083c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HwPktOpen</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Opens and configures EMAC. Configures Interrupts</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi</td><td>PDINFO structure pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success(0) or failure(Error Codes defined) </dd></dl>
</div></td></tr>
<tr class="memitem:a4f21ecac6270df1fec5851417c864e58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f21ecac6270df1fec5851417c864e58"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktOpen</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi)</td></tr>
<tr class="separator:a4f21ecac6270df1fec5851417c864e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HwPktClose</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Closes EMAC and disables interrupts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi</td><td>PDINFO structure pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
</div></td></tr>
<tr class="memitem:adbf13754396c3d1acf8b5ef4c6551156"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbf13754396c3d1acf8b5ef4c6551156"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktClose</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi)</td></tr>
<tr class="separator:adbf13754396c3d1acf8b5ef4c6551156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff32c0ba599a1e9c829c2e3c1eddb31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ff32c0ba599a1e9c829c2e3c1eddb31"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktSetRx</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi)</td></tr>
<tr class="separator:a1ff32c0ba599a1e9c829c2e3c1eddb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HwPktTxNext</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Routine to send out a packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi</td><td>PDINFO structure pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
</div></td></tr>
<tr class="memitem:aa61a4cd118b83f1d20f1a09f847d80fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa61a4cd118b83f1d20f1a09f847d80fd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktTxNext</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi)</td></tr>
<tr class="separator:aa61a4cd118b83f1d20f1a09f847d80fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">_HwPktPoll</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>This function is called at least every 100ms, faster in a polling environment. The fTimerTick flag is set only when called on a 100ms event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi</td><td>PDINFO structure pointer. </td></tr>
    <tr><td class="paramname">fTimerTick</td><td>Flag for timer, set when called on a 100ms event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
</div></td></tr>
<tr class="memitem:af8375ebb30e4c74ca5bdb7ec51f50d1c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8375ebb30e4c74ca5bdb7ec51f50d1c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_HwPktPoll</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi, uint fTimerTick)</td></tr>
<tr class="separator:af8375ebb30e4c74ca5bdb7ec51f50d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a506677f0cbdfe5ba1cc102076d1dcd2f"><td class="memItemLeft" align="right" valign="top">PBMQ&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#a506677f0cbdfe5ba1cc102076d1dcd2f">PBMQ_rx</a></td></tr>
<tr class="separator:a506677f0cbdfe5ba1cc102076d1dcd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
HwPktIoctl</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpadba9d5fdd6b2eb1de0182dd3aeb7c7e"></a>Low level driver Ioctl interface. This interface can be used for ALE configuration,control,statistics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi</td><td>PDINFO structure pointer. </td></tr>
    <tr><td class="paramname">cmd</td><td>Ioctl command. </td></tr>
    <tr><td class="paramname">pBuf</td><td>Ioctl buffer with commands and params to set/get configuration from hardware. </td></tr>
    <tr><td class="paramname">size</td><td>Size of Ioctl buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
</td></tr>
<tr class="memitem:a7458d6aa90c3305f95d72033df65ace6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nimu__icss_internal_8h.html#a7458d6aa90c3305f95d72033df65ace6">NIMU_DEVICE_NUM</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a7458d6aa90c3305f95d72033df65ace6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8ff737fecf0717ce4d48617a0c77dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c8ff737fecf0717ce4d48617a0c77dd"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>HwPktIoctl</b> (<a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a> *pi, uint cmd, void *param, uint size)</td></tr>
<tr class="separator:a2c8ff737fecf0717ce4d48617a0c77dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal Include file for NIMU Packet Architecture. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2012 - 2018 Texas Instruments Incorporated ALL RIGHTS RESERVED</dd></dl>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
<p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
<p>Neither the name of Texas Instruments Incorporated nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af11f9e1161d0d44ee69b9310fecc68dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_MCAST&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether HASH based multicasting is suported for this EMAC peripheral. </p>

</div>
</div>
<a class="anchor" id="a7458d6aa90c3305f95d72033df65ace6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NIMU_DEVICE_NUM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>number of Driver Devices </p>

</div>
</div>
<a class="anchor" id="ac42fad7aaa86a118211d75b8fe2fa413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKT_MAX_MCAST&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Multicast Address List Size </p>

</div>
</div>
<a class="anchor" id="a39260d9022a638eafaaaafff02295d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKT_PREPAD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pre-Pad Packet Data Offset</p>
<p>The TCP/IP stack library requires that every packet device include enough L2 header room for all supported headers. In order to support PPPoE, this requires a 22 byte L2 header. Thus, since standard Ethernet is only 14 bytes, we must add on an additional 8 byte offset, or PPPoE can not function with our driver. </p>

</div>
</div>
<a class="anchor" id="acf4eecbe43aaf70c57450be56fd39ae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_MCAST&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether RAM based multicast lists are suported for this EMAC peripheral. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab619096c8ea552f67d4e194f5ca068c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__pdinfo.html">_pdinfo</a>  <a class="el" href="nimu__icss_internal_8h.html#ab619096c8ea552f67d4e194f5ca068c8">PDINFO</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet device information. </p>
<p>This structure caches the device info. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a506677f0cbdfe5ba1cc102076d1dcd2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PBMQ PBMQ_rx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rx queue (one for all PKT devices) </p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
