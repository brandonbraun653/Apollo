<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pmhal_tps659037.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_24c84a99586fed3db8b2257cf02e9a6c.html">pmhal</a></li><li class="navelem"><a class="el" href="dir_3fa2f83f4593ba409444d8ad12d4153e.html">prcm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pmhal_tps659037.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Power Management IC - TPS659037 specific API implementation. APIs are exported by using function pointers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;ti/csl/hw_types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="pm__types_8h.html">pm_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pm__utils_8h.html">pm_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmhal__pmic_8h.html">pmhal_pmic.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="pmhal__tps659037_8h.html">ti/drv/pm/include/pmic/pmhal_tps659037.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="pmhal__pmic_comm_8h.html">pmhal_pmicComm.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7130826f3a11054c202a9da47c08a8f3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a7130826f3a11054c202a9da47c08a8f3">PMHALTps659037IsPresent</a> (void)</td></tr>
<tr class="memdesc:a7130826f3a11054c202a9da47c08a8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the TPS659037 PMIC is present. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a7130826f3a11054c202a9da47c08a8f3">More...</a><br /></td></tr>
<tr class="separator:a7130826f3a11054c202a9da47c08a8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa5b2dd5eeb9872b11bf04faf498884"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a8aa5b2dd5eeb9872b11bf04faf498884">PMHALTps659037GetRevision</a> (void)</td></tr>
<tr class="memdesc:a8aa5b2dd5eeb9872b11bf04faf498884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the TPS659037 PMIC chip revision. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a8aa5b2dd5eeb9872b11bf04faf498884">More...</a><br /></td></tr>
<tr class="separator:a8aa5b2dd5eeb9872b11bf04faf498884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226719e0800e91421bad2c7cab1812d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a226719e0800e91421bad2c7cab1812d5">PMHALTps659037GetVendorId</a> (uint32_t *vendorId)</td></tr>
<tr class="memdesc:a226719e0800e91421bad2c7cab1812d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the PMIC Vendor ID. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a226719e0800e91421bad2c7cab1812d5">More...</a><br /></td></tr>
<tr class="separator:a226719e0800e91421bad2c7cab1812d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b45b7823e28a650b4c61792680706f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a96b45b7823e28a650b4c61792680706f">PMHALTps659037GetProductId</a> (uint32_t *productId)</td></tr>
<tr class="memdesc:a96b45b7823e28a650b4c61792680706f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the PMIC Product ID. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a96b45b7823e28a650b4c61792680706f">More...</a><br /></td></tr>
<tr class="separator:a96b45b7823e28a650b4c61792680706f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af927e7968c3d27e6ea0c9ad59a75fd2f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#af927e7968c3d27e6ea0c9ad59a75fd2f">PMHALTps659037GetRegulatorVoltage</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId, uint32_t *voltage)</td></tr>
<tr class="memdesc:af927e7968c3d27e6ea0c9ad59a75fd2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the voltage setting of the given regulator. The declaration is present here to ensure this function is used only via function pointer.  <a href="#af927e7968c3d27e6ea0c9ad59a75fd2f">More...</a><br /></td></tr>
<tr class="separator:af927e7968c3d27e6ea0c9ad59a75fd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9d3a52cd0c72abddf916ae77a1206f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#adc9d3a52cd0c72abddf916ae77a1206f">PMHALTps659037SetRegulatorVoltage</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId, uint32_t voltage, uint32_t timeout)</td></tr>
<tr class="memdesc:adc9d3a52cd0c72abddf916ae77a1206f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the voltage of the regulator to the mV given. The declaration is present here to ensure this function is used only via function pointer.  <a href="#adc9d3a52cd0c72abddf916ae77a1206f">More...</a><br /></td></tr>
<tr class="separator:adc9d3a52cd0c72abddf916ae77a1206f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa719a5d0553983b45a5c9a8b57f09302"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#aa719a5d0553983b45a5c9a8b57f09302">PMHALTps659037IsRegulatorEnabled</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId)</td></tr>
<tr class="memdesc:aa719a5d0553983b45a5c9a8b57f09302"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to check if the given regulator enabled. The declaration is present here to ensure this function is used only via function pointer.  <a href="#aa719a5d0553983b45a5c9a8b57f09302">More...</a><br /></td></tr>
<tr class="separator:aa719a5d0553983b45a5c9a8b57f09302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3561c40b44cfacdcca3c0d6e98ec87de"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a3561c40b44cfacdcca3c0d6e98ec87de">PMHALTps659037EnableRegulator</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId)</td></tr>
<tr class="memdesc:a3561c40b44cfacdcca3c0d6e98ec87de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the given regulator. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a3561c40b44cfacdcca3c0d6e98ec87de">More...</a><br /></td></tr>
<tr class="separator:a3561c40b44cfacdcca3c0d6e98ec87de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb3f23167e4da6714a248636f2a2c3a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a6eb3f23167e4da6714a248636f2a2c3a">PMHALTps659037DisableRegulator</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId)</td></tr>
<tr class="memdesc:a6eb3f23167e4da6714a248636f2a2c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the given regulator. The declaration is present here to ensure this function is used only via function pointer.  <a href="#a6eb3f23167e4da6714a248636f2a2c3a">More...</a><br /></td></tr>
<tr class="separator:a6eb3f23167e4da6714a248636f2a2c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8509614e61b92bff9b3a22655b97441"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#ab8509614e61b92bff9b3a22655b97441">PMHALTps659037GetRegulatorConvVoltage</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId, uint32_t avsVoltage)</td></tr>
<tr class="memdesc:ab8509614e61b92bff9b3a22655b97441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the Regulator Step voltage size. This is required by the voltage manager to understand the opp for the given voltage set for the given voltage rail.  <a href="#ab8509614e61b92bff9b3a22655b97441">More...</a><br /></td></tr>
<tr class="separator:ab8509614e61b92bff9b3a22655b97441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b509d5e7a3847d126222cf0503f68c0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a2b509d5e7a3847d126222cf0503f68c0">PmhalTps659037VoltageToVselOffset</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId, uint32_t voltage, uint32_t range, uint32_t *vsel)</td></tr>
<tr class="memdesc:a2b509d5e7a3847d126222cf0503f68c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given voltage in mV and range, return the VSEL offset.  <a href="#a2b509d5e7a3847d126222cf0503f68c0">More...</a><br /></td></tr>
<tr class="separator:a2b509d5e7a3847d126222cf0503f68c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00e1de1bbea68b581b2c07c8c47732c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#ab00e1de1bbea68b581b2c07c8c47732c">PmhalTps659037VselOffsetToVoltage</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId, uint32_t vsel, uint32_t range)</td></tr>
<tr class="memdesc:ab00e1de1bbea68b581b2c07c8c47732c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given VSEL offset convert it to voltage in mV and return.  <a href="#ab00e1de1bbea68b581b2c07c8c47732c">More...</a><br /></td></tr>
<tr class="separator:ab00e1de1bbea68b581b2c07c8c47732c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1acce5537da4331afa9073cbc241bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a8f1acce5537da4331afa9073cbc241bb">PmhalTps659037ReadPhyAddr</a> (uint8_t i2cNum, uint32_t phyAddr, uint32_t *value)</td></tr>
<tr class="memdesc:a8f1acce5537da4331afa9073cbc241bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the register value at the given physical address.  <a href="#a8f1acce5537da4331afa9073cbc241bb">More...</a><br /></td></tr>
<tr class="separator:a8f1acce5537da4331afa9073cbc241bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8dfd87d8ea21da7fd4d0c60ab0c29e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a2d8dfd87d8ea21da7fd4d0c60ab0c29e">PmhalTps659037WritePhyAddr</a> (uint8_t i2cNum, uint32_t phyAddr, uint32_t value)</td></tr>
<tr class="memdesc:a2d8dfd87d8ea21da7fd4d0c60ab0c29e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the given register value at the given physical address.  <a href="#a2d8dfd87d8ea21da7fd4d0c60ab0c29e">More...</a><br /></td></tr>
<tr class="separator:a2d8dfd87d8ea21da7fd4d0c60ab0c29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa1a7fb48c2c29a9e13cb8b0880c98c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a7aa1a7fb48c2c29a9e13cb8b0880c98c">PmhalTps659037IsProductIdValid</a> (uint32_t prodId)</td></tr>
<tr class="memdesc:a7aa1a7fb48c2c29a9e13cb8b0880c98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given product ID is the ID of a supported PMIC.  <a href="#a7aa1a7fb48c2c29a9e13cb8b0880c98c">More...</a><br /></td></tr>
<tr class="separator:a7aa1a7fb48c2c29a9e13cb8b0880c98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eeed2a40ec9905bd7cc5b73e71a2afb"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a0eeed2a40ec9905bd7cc5b73e71a2afb">PmhalTps659037CheckRegulatorEnabled</a> (<a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a> regId)</td></tr>
<tr class="memdesc:a0eeed2a40ec9905bd7cc5b73e71a2afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the given regulator enabled? This utility function must only be called by functions in this file and the caller must ensure that the PMIC communication is configured and enabled before calling this function.  <a href="#a0eeed2a40ec9905bd7cc5b73e71a2afb">More...</a><br /></td></tr>
<tr class="separator:a0eeed2a40ec9905bd7cc5b73e71a2afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1deb6a34ef0adb68f5ec81ae5b16c1c4"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a1deb6a34ef0adb68f5ec81ae5b16c1c4">PmhalTps659037PhytoSlaveAddr</a> (uint32_t phyAddr)</td></tr>
<tr class="memdesc:a1deb6a34ef0adb68f5ec81ae5b16c1c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to convert the physical address to the slave address.  <a href="#a1deb6a34ef0adb68f5ec81ae5b16c1c4">More...</a><br /></td></tr>
<tr class="separator:a1deb6a34ef0adb68f5ec81ae5b16c1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd1a7fbb53c1e89352cb0976fba11a4"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a1dd1a7fbb53c1e89352cb0976fba11a4">PmhalTps659037PhyToPageOffset</a> (uint32_t phyAddr)</td></tr>
<tr class="memdesc:a1dd1a7fbb53c1e89352cb0976fba11a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">In line function to find the Offset of a register address in a page.  <a href="#a1dd1a7fbb53c1e89352cb0976fba11a4">More...</a><br /></td></tr>
<tr class="separator:a1dd1a7fbb53c1e89352cb0976fba11a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7bcd40aea24e18f6d5dfe752871e32"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#aea7bcd40aea24e18f6d5dfe752871e32">PmhalTps659037PhyToPage</a> (uint32_t phyAddr)</td></tr>
<tr class="memdesc:aea7bcd40aea24e18f6d5dfe752871e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">In line function to find the Offset of a register address in a page.  <a href="#aea7bcd40aea24e18f6d5dfe752871e32">More...</a><br /></td></tr>
<tr class="separator:aea7bcd40aea24e18f6d5dfe752871e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407cb29bec3d15b15855fd4eed0e91ce"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group___p_m___h_a_l___v_m.html#gac57178dd87d74f8dc367d5e346e1ea9d">pmhalPmicOperations_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#a407cb29bec3d15b15855fd4eed0e91ce">PMHALTps659037GetPMICOps</a> (void)</td></tr>
<tr class="memdesc:a407cb29bec3d15b15855fd4eed0e91ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get PMIC ops structure. All the other functions are accessed via function pointers whose array is exported by this function.  <a href="#a407cb29bec3d15b15855fd4eed0e91ce">More...</a><br /></td></tr>
<tr class="separator:a407cb29bec3d15b15855fd4eed0e91ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb09c61e9ea33885f205a090a3ab70f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#adb09c61e9ea33885f205a090a3ab70f7">PMHALTps659037ConfigureRegulatorMap</a> (<a class="el" href="pmhal__tps659037_8h.html#a8585c59e735fdf2bbbce1f0a6af04f89">pmhalTps659037RegulatorMapPtr_t</a> regulatorMap)</td></tr>
<tr class="memdesc:adb09c61e9ea33885f205a090a3ab70f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PMIC regulator output to the device input mapping can be different on different boards. This API can be used to provide a different mapping to the PMIC driver if the mapping does not </p><h2>match the default. Example table is shown below: </h2>
<h2>| Device voltage Rail | Ptr to Regulator | </h2>
| PMHAL_PRCM_PMIC_REGULATOR_MPU | PMHAL_TPS65037_REGULATOR_SMPS12 | | PMHAL_PRCM_PMIC_REGULATOR_CORE | PMHAL_TPS65037_REGULATOR_SMPS7 | | .... | | index (Refer | For index of the | | <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a>) | gPmhalTps659037Regulator | | | refer | </p><h2>| | <a class="el" href="pmhal__tps659037_8h.html#ad68dfd35239a64852a33333be63b6f55" title="Abstract Enumeration for the Regulators. ">pmhalTps659037RegulatorId_t</a> | </h2>
This table when translated to code is as below: pmhalTps659037RegulatorMap_t regulatorMap[ PMHAL_PRCM_PMIC_REGULATOR_COUNT] = { { &amp;gPmhalTps659037Regulator[PMHAL_TPS659037_REGULATOR_SMPS12], I2C_INSTANCE, PMIC_I2C_SLAVE_ADDRESS }, { &amp;gPmhalTps659037Regulator[PMHAL_TPS659037_REGULATOR_SMPS7], I2C_INSTANCE, PMIC_I2C_SLAVE_ADDRESS }, ...... };.  <a href="#adb09c61e9ea33885f205a090a3ab70f7">More...</a><br /></td></tr>
<tr class="separator:adb09c61e9ea33885f205a090a3ab70f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae2b2b3c03c5b6cc3236c37a646e9b224"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="pmhal__tps659037_8h.html#a002f11a5681c46088e5e5faea07a704e">pmhalTps659037RegulatorProp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__tps659037_8c.html#ae2b2b3c03c5b6cc3236c37a646e9b224">gPmhalTps659037Regulator</a> [<a class="el" href="pmhal__tps659037_8h.html#ad840bf511b51d4eb41b7e7bba4277749a2553baf0d840b214b6af94a321eeb41d">PMHAL_TPS659037_REGULATOR_MAX</a>]</td></tr>
<tr class="separator:ae2b2b3c03c5b6cc3236c37a646e9b224"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Power Management IC - TPS659037 specific API implementation. APIs are exported by using function pointers. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0eeed2a40ec9905bd7cc5b73e71a2afb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PmhalTps659037CheckRegulatorEnabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the given regulator enabled? This utility function must only be called by functions in this file and the caller must ensure that the PMIC communication is configured and enabled before calling this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if regulator is enabled; FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="adb09c61e9ea33885f205a090a3ab70f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMHALTps659037ConfigureRegulatorMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmhal__tps659037_8h.html#a8585c59e735fdf2bbbce1f0a6af04f89">pmhalTps659037RegulatorMapPtr_t</a>&#160;</td>
          <td class="paramname"><em>regulatorMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The PMIC regulator output to the device input mapping can be different on different boards. This API can be used to provide a different mapping to the PMIC driver if the mapping does not </p><h2>match the default. Example table is shown below: </h2>
<h2>| Device voltage Rail | Ptr to Regulator | </h2>
| PMHAL_PRCM_PMIC_REGULATOR_MPU | PMHAL_TPS65037_REGULATOR_SMPS12 | | PMHAL_PRCM_PMIC_REGULATOR_CORE | PMHAL_TPS65037_REGULATOR_SMPS7 | | .... | | index (Refer | For index of the | | <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a>) | gPmhalTps659037Regulator | | | refer | </p><h2>| | <a class="el" href="pmhal__tps659037_8h.html#ad68dfd35239a64852a33333be63b6f55" title="Abstract Enumeration for the Regulators. ">pmhalTps659037RegulatorId_t</a> | </h2>
This table when translated to code is as below: pmhalTps659037RegulatorMap_t regulatorMap[ PMHAL_PRCM_PMIC_REGULATOR_COUNT] = { { &amp;gPmhalTps659037Regulator[PMHAL_TPS659037_REGULATOR_SMPS12], I2C_INSTANCE, PMIC_I2C_SLAVE_ADDRESS }, { &amp;gPmhalTps659037Regulator[PMHAL_TPS659037_REGULATOR_SMPS7], I2C_INSTANCE, PMIC_I2C_SLAVE_ADDRESS }, ...... };. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regulatorMap</td><td>Pointer to the array of pointers which gives the mapping. The array is defined as above.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a6eb3f23167e4da6714a248636f2a2c3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037DisableRegulator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable the given regulator. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS if API is a success. PM_BADARGS/FAIL otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a3561c40b44cfacdcca3c0d6e98ec87de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037EnableRegulator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable the given regulator. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS if API is a success. PM_BADARGS/FAIL otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a407cb29bec3d15b15855fd4eed0e91ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group___p_m___h_a_l___v_m.html#gac57178dd87d74f8dc367d5e346e1ea9d">pmhalPmicOperations_t</a>* PMHALTps659037GetPMICOps </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get PMIC ops structure. All the other functions are accessed via function pointers whose array is exported by this function. </p>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the PMIC ops structure. </dd></dl>

</div>
</div>
<a class="anchor" id="a96b45b7823e28a650b4c61792680706f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037GetProductId </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>productId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the PMIC Product ID. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productId</td><td>The Product ID is populated in this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS if API is a success. PM_BADARGS otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ab8509614e61b92bff9b3a22655b97441"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PMHALTps659037GetRegulatorConvVoltage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>avsVoltage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the Regulator Step voltage size. This is required by the voltage manager to understand the opp for the given voltage set for the given voltage rail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator ID. Refer <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a> for details. </td></tr>
    <tr><td class="paramname">avsVolt</td><td>AVS voltage which is to be converted to regulator voltage</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>convVolt The voltage that would be supplied by the regulator if the AVS voltage is given to the API. NOTE: This API does not program the PMIC. It just returns the calculated value of AVS voltage converted to PMIC voltage based on the PMIC voltage resolution. </dd></dl>

</div>
</div>
<a class="anchor" id="af927e7968c3d27e6ea0c9ad59a75fd2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037GetRegulatorVoltage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>voltage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the voltage setting of the given regulator. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a> </td></tr>
    <tr><td class="paramname">voltage</td><td>Voltage in mV returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS if API is a success. PM_BADARGS otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a8aa5b2dd5eeb9872b11bf04faf498884"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * PMHALTps659037GetRevision </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the TPS659037 PMIC chip revision. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>revString - The revision. "INVALID" is returned in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a226719e0800e91421bad2c7cab1812d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037GetVendorId </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>vendorId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the PMIC Vendor ID. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vendorId</td><td>The Vendor ID is populated in this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS if API is a success. PM_BADARGS otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a7130826f3a11054c202a9da47c08a8f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037IsPresent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the TPS659037 PMIC is present. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS - TPS659037 PMIC is present. PM_PMHAL_PMIC_VENDOR_ID_INVALID - PMIC vendor id doesn't match the expected value. PM_PMHAL_PMIC_PRODUCT_ID_INVALID - PMIC product id doesn't match the expected value. </dd></dl>

</div>
</div>
<a class="anchor" id="a7aa1a7fb48c2c29a9e13cb8b0880c98c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PmhalTps659037IsProductIdValid </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>prodId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the given product ID is the ID of a supported PMIC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prodId</td><td>Product ID to be checked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the product ID is valid; false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="aa719a5d0553983b45a5c9a8b57f09302"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PMHALTps659037IsRegulatorEnabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>API to check if the given regulator enabled. The declaration is present here to ensure this function is used only via function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>enabled TRUE if regulator is enabled; FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aea7bcd40aea24e18f6d5dfe752871e32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PmhalTps659037PhyToPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>phyAddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In line function to find the Offset of a register address in a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phyAddr</td><td>Physical Address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Page Number </dd></dl>

</div>
</div>
<a class="anchor" id="a1dd1a7fbb53c1e89352cb0976fba11a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t PmhalTps659037PhyToPageOffset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>phyAddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In line function to find the Offset of a register address in a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phyAddr</td><td>Physical Address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Page offset </dd></dl>

</div>
</div>
<a class="anchor" id="a1deb6a34ef0adb68f5ec81ae5b16c1c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t PmhalTps659037PhytoSlaveAddr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>phyAddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to convert the physical address to the slave address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phyAddr</td><td>Physical Address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>slaveAddr Slave Address </dd></dl>

</div>
</div>
<a class="anchor" id="a8f1acce5537da4331afa9073cbc241bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PmhalTps659037ReadPhyAddr </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2cNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>phyAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the register value at the given physical address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cNum</td><td>I2C instance number used to communicate with PMIC. </td></tr>
    <tr><td class="paramname">phyAddr</td><td>Address to be read. </td></tr>
    <tr><td class="paramname">value</td><td>Returns the value read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status Return PM_SUCCESS if read is successful. Else returns PM_FAIL. </dd></dl>

</div>
</div>
<a class="anchor" id="adc9d3a52cd0c72abddf916ae77a1206f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALTps659037SetRegulatorVoltage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>voltage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the voltage of the regulator to the mV given. The declaration is present here to ensure this function is used only via function pointer. </p>
<p>NOTE: PMIC allows controlling the voltage in many ways. The approach taken by this routine is to use the current configuration for voltage setting and try to succeed. It doesn't try to alter the configuration to ensure success. For example, if ROOF_FLOOR_EN control bit is set to 1 to mean that the voltage is controlled by the device resource pins, then this routine returns error; even though this bit can be changed to 0U to succeed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a> </td></tr>
    <tr><td class="paramname">voltage</td><td>Voltage in mV returned. </td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout iterations to wait for setting the right regulator voltage value. Possible values can be: PM_TIMEOUT_NOWAIT Do not wait for voltage setting. PM_TIMEOUT_INFINITE Wait infinitely till the voltage is set. Non Zero Value Wait for the time provided by the user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status PM_SUCCESS if API is a success. PM_BADARGS otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a2b509d5e7a3847d126222cf0503f68c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PmhalTps659037VoltageToVselOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>voltage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>vsel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given voltage in mV and range, return the VSEL offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a> </td></tr>
    <tr><td class="paramname">voltage</td><td>Voltage in mV. </td></tr>
    <tr><td class="paramname">range</td><td>Range of the VSEL voltage. </td></tr>
    <tr><td class="paramname">vsel</td><td>VSEL value returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a class="anchor" id="ab00e1de1bbea68b581b2c07c8c47732c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t PmhalTps659037VselOffsetToVoltage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8">pmhalPrcmPmicRegulatorId_t</a>&#160;</td>
          <td class="paramname"><em>regId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vsel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given VSEL offset convert it to voltage in mV and return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regId</td><td>Regulator Id. Refer Enum <a class="el" href="group___m_i_s_c.html#gaad27b65507a152c937ab53f2dcc277b8" title="The Abstract PMIC Voltage Regulator IDs used by the PMIC Interface. These abstract regulator IDs repr...">pmhalPrcmPmicRegulatorId_t</a> </td></tr>
    <tr><td class="paramname">range</td><td>Range of the VSEL voltage. </td></tr>
    <tr><td class="paramname">vsel</td><td>VSEL value returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>voltage Voltage in mV. </dd></dl>

</div>
</div>
<a class="anchor" id="a2d8dfd87d8ea21da7fd4d0c60ab0c29e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PmhalTps659037WritePhyAddr </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2cNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>phyAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the given register value at the given physical address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cNum</td><td>I2C instance number used to communicate with PMIC. </td></tr>
    <tr><td class="paramname">phyAddr</td><td>Address to be written to. </td></tr>
    <tr><td class="paramname">value</td><td>Returns the value to be written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return success or failure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae2b2b3c03c5b6cc3236c37a646e9b224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="pmhal__tps659037_8h.html#a002f11a5681c46088e5e5faea07a704e">pmhalTps659037RegulatorProp_t</a> gPmhalTps659037Regulator[<a class="el" href="pmhal__tps659037_8h.html#ad840bf511b51d4eb41b7e7bba4277749a2553baf0d840b214b6af94a321eeb41d">PMHAL_TPS659037_REGULATOR_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array of the properties of all the SMPS and LDO PMIC regulators </p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
