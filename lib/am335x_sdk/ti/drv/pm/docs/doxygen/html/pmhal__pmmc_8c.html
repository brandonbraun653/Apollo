<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pmhal_pmmc.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_24c84a99586fed3db8b2257cf02e9a6c.html">pmhal</a></li><li class="navelem"><a class="el" href="dir_2b2b207e1fca3a5cdf57fc6465543e59.html">pmmc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pmhal_pmmc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CM3 PMMC interface API definition.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="pm__types_8h.html">pm_types.h</a>&quot;</code><br />
<code>#include &quot;pmhal_pmmc.h&quot;</code><br />
<code>#include &quot;pmhal_pmmc_includes.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pmhal__msgmgr_8h.html">pmhal_msgmgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmhal__ti__sci_8h.html">pmhal_ti_sci.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a17ead026db3b2a01fcee521ca2b6baa7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17ead026db3b2a01fcee521ca2b6baa7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a17ead026db3b2a01fcee521ca2b6baa7">BUILD_SCI_HDR</a>(header,  t,  h,  s,  f)</td></tr>
<tr class="memdesc:a17ead026db3b2a01fcee521ca2b6baa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for populating the TI_SCI message header. <br /></td></tr>
<tr class="separator:a17ead026db3b2a01fcee521ca2b6baa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5714e4ca424c490fe16438678fe2d7c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#aa5714e4ca424c490fe16438678fe2d7c">PmhalPmmcTransaction</a> (uint32_t *reqData, uint32_t reqSize, uint32_t *respData, uint32_t respSize, uint16_t type, uint32_t flags, uint32_t timeout)</td></tr>
<tr class="memdesc:aa5714e4ca424c490fe16438678fe2d7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performs the PMMC TX/RX transaction.  <a href="#aa5714e4ca424c490fe16438678fe2d7c">More...</a><br /></td></tr>
<tr class="separator:aa5714e4ca424c490fe16438678fe2d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab438400f0e9de5f0fb2bd20567d202"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a5ab438400f0e9de5f0fb2bd20567d202">PMHALPmmcLoad</a> (const void *image, uint32_t size)</td></tr>
<tr class="memdesc:a5ab438400f0e9de5f0fb2bd20567d202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to load the PMMC firmware.  <a href="#a5ab438400f0e9de5f0fb2bd20567d202">More...</a><br /></td></tr>
<tr class="separator:a5ab438400f0e9de5f0fb2bd20567d202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb230724c84694c3ecff35dc3abc726c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#aeb230724c84694c3ecff35dc3abc726c">PMHALPmmcStart</a> (uint32_t timeout)</td></tr>
<tr class="memdesc:aeb230724c84694c3ecff35dc3abc726c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to start the PMMC firmware.  <a href="#aeb230724c84694c3ecff35dc3abc726c">More...</a><br /></td></tr>
<tr class="separator:aeb230724c84694c3ecff35dc3abc726c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1174504ec6da40529edf8323b39bd4de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a1174504ec6da40529edf8323b39bd4de">PMHALPmmcInterfaceInit</a> (void)</td></tr>
<tr class="memdesc:a1174504ec6da40529edf8323b39bd4de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the PMMC messaging interface.  <a href="#a1174504ec6da40529edf8323b39bd4de">More...</a><br /></td></tr>
<tr class="separator:a1174504ec6da40529edf8323b39bd4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1893ac41e9f8461dd320be3fd9c1314b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a1893ac41e9f8461dd320be3fd9c1314b">PMHALPmmcInterfaceClose</a> (void)</td></tr>
<tr class="memdesc:a1893ac41e9f8461dd320be3fd9c1314b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to close the PMMC messaging interface.  <a href="#a1893ac41e9f8461dd320be3fd9c1314b">More...</a><br /></td></tr>
<tr class="separator:a1893ac41e9f8461dd320be3fd9c1314b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1a1dd742aab19c43d65861ef7c4892"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a9e1a1dd742aab19c43d65861ef7c4892">PMHALPmmcCommsValidate</a> (uint32_t timeout)</td></tr>
<tr class="memdesc:a9e1a1dd742aab19c43d65861ef7c4892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to validate communication with the PMMC firmware.  <a href="#a9e1a1dd742aab19c43d65861ef7c4892">More...</a><br /></td></tr>
<tr class="separator:a9e1a1dd742aab19c43d65861ef7c4892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe76e5b57cc032b875c07acf8b023d90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#abe76e5b57cc032b875c07acf8b023d90">PMHALPmmcModuleSetState</a> (pmhalPmmcModuleId_t moduleId, uint32_t state, uint32_t timeout)</td></tr>
<tr class="memdesc:abe76e5b57cc032b875c07acf8b023d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set a module's state via the PMMC.  <a href="#abe76e5b57cc032b875c07acf8b023d90">More...</a><br /></td></tr>
<tr class="separator:abe76e5b57cc032b875c07acf8b023d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91ef22cb8ecbbd36dcf6d33514969e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#ae91ef22cb8ecbbd36dcf6d33514969e6">PMHALPmmcModuleGetState</a> (pmhalPmmcModuleId_t moduleId, <a class="el" href="structpmhal_pmmc_module_state.html">pmhalPmmcModuleState_t</a> *moduleState, uint32_t timeout)</td></tr>
<tr class="memdesc:ae91ef22cb8ecbbd36dcf6d33514969e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get a module's state via the PMMC.  <a href="#ae91ef22cb8ecbbd36dcf6d33514969e6">More...</a><br /></td></tr>
<tr class="separator:ae91ef22cb8ecbbd36dcf6d33514969e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa484cd50918eac1a5f277d9af1bf816f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#aa484cd50918eac1a5f277d9af1bf816f">PMHALPmmcClockSetState</a> (pmhalPmmcModuleId_t moduleId, pmhalPmmcClockId_t clockId, uint32_t flags, uint32_t reqState, uint32_t timeout)</td></tr>
<tr class="memdesc:aa484cd50918eac1a5f277d9af1bf816f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set a module's clock state via the PMMC.  <a href="#aa484cd50918eac1a5f277d9af1bf816f">More...</a><br /></td></tr>
<tr class="separator:aa484cd50918eac1a5f277d9af1bf816f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bf8a93ed234e29649002e9dee2e240"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a18bf8a93ed234e29649002e9dee2e240">PMHALPmmcClockGetState</a> (pmhalPmmcModuleId_t moduleId, pmhalPmmcClockId_t clockId, <a class="el" href="structpmhal_pmmc_clock_state.html">pmhalPmmcClockState_t</a> *clockState, uint32_t timeout)</td></tr>
<tr class="memdesc:a18bf8a93ed234e29649002e9dee2e240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get a module's clock state via the PMMC.  <a href="#a18bf8a93ed234e29649002e9dee2e240">More...</a><br /></td></tr>
<tr class="separator:a18bf8a93ed234e29649002e9dee2e240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55714ba6280fc649afe8b6d000eda9fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a55714ba6280fc649afe8b6d000eda9fc">PMHALPmmcClockSetRate</a> (pmhalPmmcModuleId_t moduleId, pmhalPmmcClockId_t clockId, uint32_t clockRate)</td></tr>
<tr class="memdesc:a55714ba6280fc649afe8b6d000eda9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set a module's clock rate via the PMMC.  <a href="#a55714ba6280fc649afe8b6d000eda9fc">More...</a><br /></td></tr>
<tr class="separator:a55714ba6280fc649afe8b6d000eda9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1946a6326144f95aa0e677bc56376c1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a1946a6326144f95aa0e677bc56376c1f">PMHALPmmcClockGetRate</a> (pmhalPmmcModuleId_t moduleId, pmhalPmmcClockId_t clockId, uint32_t *clockRate)</td></tr>
<tr class="memdesc:a1946a6326144f95aa0e677bc56376c1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get a module's clock rate via the PMMC.  <a href="#a1946a6326144f95aa0e677bc56376c1f">More...</a><br /></td></tr>
<tr class="separator:a1946a6326144f95aa0e677bc56376c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbcd4bcc778d487732d6ded509cb849"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a7fbcd4bcc778d487732d6ded509cb849">PMHALPmmcModuleIsIdValid</a> (pmhalPmmcModuleId_t moduleId)</td></tr>
<tr class="memdesc:a7fbcd4bcc778d487732d6ded509cb849"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API verifies if the Module Id is valid or not.  <a href="#a7fbcd4bcc778d487732d6ded509cb849">More...</a><br /></td></tr>
<tr class="separator:a7fbcd4bcc778d487732d6ded509cb849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28748c5350a8376fb0d9fe97077e7f25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a28748c5350a8376fb0d9fe97077e7f25">PMHALPmmcModuleIsStateValid</a> (uint32_t state)</td></tr>
<tr class="memdesc:a28748c5350a8376fb0d9fe97077e7f25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API verifies if the Module state is valid or not.  <a href="#a28748c5350a8376fb0d9fe97077e7f25">More...</a><br /></td></tr>
<tr class="separator:a28748c5350a8376fb0d9fe97077e7f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5006934b807ebb8f7e20b8b6bab9381d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5006934b807ebb8f7e20b8b6bab9381d"></a>
SemaphoreP_Handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a5006934b807ebb8f7e20b8b6bab9381d">sem</a> = NULL</td></tr>
<tr class="memdesc:a5006934b807ebb8f7e20b8b6bab9381d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore used for atomic read/write operations over MSGMGR. <br /></td></tr>
<tr class="separator:a5006934b807ebb8f7e20b8b6bab9381d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f47451edd2274525a52e40f4e26c399"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f47451edd2274525a52e40f4e26c399"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmhal__pmmc_8c.html#a3f47451edd2274525a52e40f4e26c399">seq</a> = 0</td></tr>
<tr class="memdesc:a3f47451edd2274525a52e40f4e26c399"><td class="mdescLeft">&#160;</td><td class="mdescRight">PMIC messages sequence number counter. <br /></td></tr>
<tr class="separator:a3f47451edd2274525a52e40f4e26c399"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CM3 PMMC interface API definition. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1946a6326144f95aa0e677bc56376c1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcClockGetRate </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pmhalPmmcClockId_t&#160;</td>
          <td class="paramname"><em>clockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>clockRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get a module's clock rate via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">clockId</td><td>Module clock from #pmhalPmmcClockId_t</td></tr>
    <tr><td class="paramname">*clockRate</td><td>Returned rate of the Module clock</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If clock get rate completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If clock get rate failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a18bf8a93ed234e29649002e9dee2e240"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcClockGetState </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pmhalPmmcClockId_t&#160;</td>
          <td class="paramname"><em>clockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpmhal_pmmc_clock_state.html">pmhalPmmcClockState_t</a> *&#160;</td>
          <td class="paramname"><em>clockState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get a module's clock state via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">clockId</td><td>Module clock from #pmhalPmmcClockId_t</td></tr>
    <tr><td class="paramname">*clockState</td><td>Pointer to a structure containing a module clock's state.</td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout for command response</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If clock get rate completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If clock get rate failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a55714ba6280fc649afe8b6d000eda9fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcClockSetRate </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pmhalPmmcClockId_t&#160;</td>
          <td class="paramname"><em>clockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>clockRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set a module's clock rate via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">clockId</td><td>Module clock from #pmhalPmmcClockId_t</td></tr>
    <tr><td class="paramname">clockRate</td><td>Desired rate of the module clock selected</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If clock set rate completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If clock set rate failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa484cd50918eac1a5f277d9af1bf816f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcClockSetState </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pmhalPmmcClockId_t&#160;</td>
          <td class="paramname"><em>clockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reqState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set a module's clock state via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">clockId</td><td>Module clock from #pmhalPmmcClockId_t</td></tr>
    <tr><td class="paramname">flags</td><td>Module clock flags to set. Available flags are defined in <a class="el" href="structti__sci__msg__req__set__clock__state.html">ti_sci_msg_req_set_clock_state</a></td></tr>
    <tr><td class="paramname">reqState</td><td>Requests module clock state. Available flags are defined in <a class="el" href="structti__sci__msg__req__set__clock__state.html">ti_sci_msg_req_set_clock_state</a></td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout for command response</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If clock set rate completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If clock set rate failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9e1a1dd742aab19c43d65861ef7c4892"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcCommsValidate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to validate communication with the PMMC firmware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout for validating communication with firmware</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If two-way communication established</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If two-way communication fails </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1893ac41e9f8461dd320be3fd9c1314b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcInterfaceClose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to close the PMMC messaging interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS If close completes successfully PM_FAIL If close fails </dd></dl>

</div>
</div>
<a class="anchor" id="a1174504ec6da40529edf8323b39bd4de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcInterfaceInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the PMMC messaging interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS If init completes successfully PM_FAIL If init fails </dd></dl>

</div>
</div>
<a class="anchor" id="a5ab438400f0e9de5f0fb2bd20567d202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcLoad </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to load the PMMC firmware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Pointer to PMMC firmware image</td></tr>
    <tr><td class="paramname">size</td><td>Size of PMMC firmware image in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If event is received</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba9ab1b31e841828e0923ff4b9b2e5cc3b">PM_INVALID_FIRMWARE_IMAGE</a> If firmware image is too big </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae91ef22cb8ecbbd36dcf6d33514969e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcModuleGetState </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpmhal_pmmc_module_state.html">pmhalPmmcModuleState_t</a> *&#160;</td>
          <td class="paramname"><em>moduleState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get a module's state via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">*moduleState</td><td>Pointer to a structure containing the module's current state.</td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout for command response</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If module get state completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If module get state failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7fbcd4bcc778d487732d6ded509cb849"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcModuleIsIdValid </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API verifies if the Module Id is valid or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Unique ID of the module</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> Indicates the operation is success</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9baa6d704fbb7091f449ab4b4ab6c59845c">PM_INPUT_PARAM_BAD_MODULE_ID</a> Invalid module id </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a28748c5350a8376fb0d9fe97077e7f25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcModuleIsStateValid </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API verifies if the Module state is valid or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>module state</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> Indicates the operation is success</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba949533714505ba7d144c0db785e61284">PM_BADARGS</a> Invalid module state </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe76e5b57cc032b875c07acf8b023d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcModuleSetState </td>
          <td>(</td>
          <td class="paramtype">pmhalPmmcModuleId_t&#160;</td>
          <td class="paramname"><em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set a module's state via the PMMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleId</td><td>Module from #pmhalPmmcModuleId_t</td></tr>
    <tr><td class="paramname">state</td><td>Desired state of the module selected from <a class="el" href="pmhal__ti__sci_8h.html" title="TI SCI protocol definitions for communication with PM firmware over MSGMGR. ">pmhal_ti_sci.h</a></td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout for command response</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If module set state completed successfully</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bae9c4b8c915fd3ade44fdce499be82ba1">PM_FAIL</a> If module set state failed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb230724c84694c3ecff35dc3abc726c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PMHALPmmcStart </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to start the PMMC firmware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout for starting firmware</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">errorStatus</td><td>Status of the API call. Can be any of the following,<ul>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9ba2fec0467f2b290a3bfd0bbd1be3b0783">PM_SUCCESS</a> If event is received</li>
<li><a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9bad666079b099e42da5651464b69eb765a">PM_INVALID_FIRMWARE_START_TIMEOUT</a> If start times out </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5714e4ca424c490fe16438678fe2d7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pm__types_8h.html#aaa0d1ee0f22b2df6888809fd8e77ea9b">pmErrCode_t</a> PmhalPmmcTransaction </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>reqData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reqSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>respData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>respSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function performs the PMMC TX/RX transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regData</td><td>Pointer to PMMC request message </td></tr>
    <tr><td class="paramname">reqSize</td><td>Size in bytes of the request message </td></tr>
    <tr><td class="paramname">respData</td><td>Pointer to PMMC response message </td></tr>
    <tr><td class="paramname">respSize</td><td>Size in bytes of the response message </td></tr>
    <tr><td class="paramname">type</td><td>PMMC message type </td></tr>
    <tr><td class="paramname">flags</td><td>PMMC message flags </td></tr>
    <tr><td class="paramname">timeout</td><td>Time to wait for response from PMMC</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status PM_SUCCESS Transaction was successfull PM_FAIL Transaction was not successfull </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
