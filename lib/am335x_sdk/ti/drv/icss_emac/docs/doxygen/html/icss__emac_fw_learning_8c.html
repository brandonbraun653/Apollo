<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>icss_emacFwLearning.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_141c9532b126717e873f6584c7e13e0d.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">icss_emacFwLearning.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main file for firmware-based Learning/FDB implementation Contains hash functions and other routines used to implement a Learning/FDB implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="icss__emac_common_8h.html">ti/drv/icss_emac/icss_emacCommon.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="icss__emac_fw_learning_8h.html">ti/drv/icss_emac/icss_emacFwLearning.h</a>&gt;</code><br />
<code>#include &lt;ti/osal/osal.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2fdfae2593d7d822010d47b0bfa80348"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#a2fdfae2593d7d822010d47b0bfa80348">fdbMoveRangeRight</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *fdb, uint16_t left, uint16_t right)</td></tr>
<tr class="separator:a2fdfae2593d7d822010d47b0bfa80348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc210932da543459225af6ec45c4803"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#abcc210932da543459225af6ec45c4803">fdbMoveRangeLeft</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *fdb, uint16_t left, uint16_t right)</td></tr>
<tr class="separator:abcc210932da543459225af6ec45c4803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0135c2be31804a4646346560c2f826a"><td class="memItemLeft" align="right" valign="top">static int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#ab0135c2be31804a4646346560c2f826a">fdbCheckEmptySlotLeftwards</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a13903292a0880d60e28afea145510423">FdbMacTable</a> *macTbl, uint8_t macTblIdx)</td></tr>
<tr class="separator:ab0135c2be31804a4646346560c2f826a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc42ad779d48bb33fb98fe94d242e3db"><td class="memItemLeft" align="right" valign="top">static int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#acc42ad779d48bb33fb98fe94d242e3db">fdbCheckEmptySlotRightwards</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a13903292a0880d60e28afea145510423">FdbMacTable</a> *macTbl, uint8_t macTblIdx)</td></tr>
<tr class="separator:acc42ad779d48bb33fb98fe94d242e3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89fc283cd322f09d07914deffdd6e21"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#af89fc283cd322f09d07914deffdd6e21">fdbInsert</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *fdb, <a class="el" href="struct_m_a_c.html">MAC</a> mac, uint8_t portNo, bool staticEntry)</td></tr>
<tr class="separator:af89fc283cd322f09d07914deffdd6e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d368d4386e3bc9622ccec1ecd02dfb"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="icss__emac_fw_learning_8c.html#ad7d368d4386e3bc9622ccec1ecd02dfb">fdbDelete</a> (<a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *fdb, <a class="el" href="struct_m_a_c.html">MAC</a> mac)</td></tr>
<tr class="separator:ad7d368d4386e3bc9622ccec1ecd02dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main file for firmware-based Learning/FDB implementation Contains hash functions and other routines used to implement a Learning/FDB implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab0135c2be31804a4646346560c2f826a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int16_t fdbCheckEmptySlotLeftwards </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a13903292a0880d60e28afea145510423">FdbMacTable</a> *&#160;</td>
          <td class="paramname"><em>macTbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>macTblIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check all entries to the left of selected index and return index of open slot. Return -1 if no open slot found.</p>

</div>
</div>
<a class="anchor" id="acc42ad779d48bb33fb98fe94d242e3db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int16_t fdbCheckEmptySlotRightwards </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a13903292a0880d60e28afea145510423">FdbMacTable</a> *&#160;</td>
          <td class="paramname"><em>macTbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>macTblIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check all entries to the right of selected index and return index of open slot. Return -1 if not found.</p>

</div>
</div>
<a class="anchor" id="ad7d368d4386e3bc9622ccec1ecd02dfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t fdbDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *&#160;</td>
          <td class="paramname"><em>fdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_a_c.html">MAC</a>&#160;</td>
          <td class="paramname"><em>mac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the FDB is empty, don't delete</p>
<p>Find proper bucket</p>
<p>Find <a class="el" href="struct_m_a_c.html" title="MAC ID. ">MAC</a> location in FDB</p>
<p>Shift all elements in bucket to the left</p>
<p>Remove end of bucket from table</p>

</div>
</div>
<a class="anchor" id="af89fc283cd322f09d07914deffdd6e21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t fdbInsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *&#160;</td>
          <td class="paramname"><em>fdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_a_c.html">MAC</a>&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>portNo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>staticEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the FDB is full, don't insert</p>
<p>Find proper bucket</p>
<p>Set up bucket if empty</p>
<p>Find the proper <a class="el" href="struct_m_a_c.html" title="MAC ID. ">MAC</a> table insertion point</p>
<p>Shift <a class="el" href="struct_m_a_c.html" title="MAC ID. ">MAC</a> table entries if needed</p>
<p>There current slot is not empty. Check if there is an empty slot to the left of the insertion point.</p>
<p>Insert the <a class="el" href="struct_m_a_c.html" title="MAC ID. ">MAC</a> into the <a class="el" href="struct_m_a_c.html" title="MAC ID. ">MAC</a> table</p>
<p>Update Index Table to reflect any changes. Should be done after insertion</p>
<p>Finish up book-keeping</p>

</div>
</div>
<a class="anchor" id="abcc210932da543459225af6ec45c4803"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fdbMoveRangeLeft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *&#160;</td>
          <td class="paramname"><em>fdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fdfae2593d7d822010d47b0bfa80348"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fdbMoveRangeRight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icss__emac_fw_learning_8h.html#a1b1e87fc97721a6e2dd410fef2f1665c">Fdb</a> *&#160;</td>
          <td class="paramname"><em>fdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
