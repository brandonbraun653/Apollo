<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tMSCDMedia Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">tMSCDMedia Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This structure contains the media access functions to be used by the MSC class driver.  
 <a href="structt_m_s_c_d_media.html#details">More...</a></p>

<p><code>#include &lt;usbdmsc.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a43e3748fb4f1456c3c17ae0c653e0ddb"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a43e3748fb4f1456c3c17ae0c653e0ddb">Open</a> )(uint32_t ulDrive)</td></tr>
<tr class="separator:a43e3748fb4f1456c3c17ae0c653e0ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184e9be3c0f59b0795ae26fcae851af0"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a184e9be3c0f59b0795ae26fcae851af0">Close</a> )(void *pvDrive)</td></tr>
<tr class="separator:a184e9be3c0f59b0795ae26fcae851af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29ff5ba5b24cba6074a803dfb382c81"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#ae29ff5ba5b24cba6074a803dfb382c81">BlockRead</a> )(void *pvDrive, uint8_t *pucData, uint32_t ulSector, uint32_t ulNumBlocks)</td></tr>
<tr class="separator:ae29ff5ba5b24cba6074a803dfb382c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd7e114c276b19361e5b06a4e291d15"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#aabd7e114c276b19361e5b06a4e291d15">BlockWrite</a> )(void *pvDrive, uint8_t *pucData, uint32_t ulSector, uint32_t ulNumBlocks)</td></tr>
<tr class="separator:aabd7e114c276b19361e5b06a4e291d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0759ac0b50b18b041650c024c34257"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#afa0759ac0b50b18b041650c024c34257">NumBlocks</a> )(void *pvDrive)</td></tr>
<tr class="separator:afa0759ac0b50b18b041650c024c34257"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This structure contains the media access functions to be used by the MSC class driver. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ae29ff5ba5b24cba6074a803dfb382c81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(*  tMSCDMedia::BlockRead) (void *pvDrive, uint8_t *pucData, uint32_t ulSector, uint32_t ulNumBlocks)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will read a block from a device opened by the USBDMSCStorageOpen() call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvDrive</td><td>is the pointer that was returned from a call to USBDMSCStorageOpen(). </td></tr>
    <tr><td class="paramname">pucData</td><td>is the buffer that data will be written into. </td></tr>
    <tr><td class="paramname">ulSector</td><td>is the block address to read. </td></tr>
    <tr><td class="paramname">ulNumBlocks</td><td>is the number of blocks to read.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is use to read blocks from a physical device and return them in the /e pucData buffer. The data area pointed to by /e pucData should be at least /e ulNumBlocks * Block Size bytes to prevent overwriting data.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>the number of bytes that were read from the device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aabd7e114c276b19361e5b06a4e291d15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(*  tMSCDMedia::BlockWrite) (void *pvDrive, uint8_t *pucData, uint32_t ulSector, uint32_t ulNumBlocks)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will write a block to a device opened by the USBDMSCStorageOpen() call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvDrive</td><td>is the pointer that was returned from a call to USBDMSCStorageOpen(). </td></tr>
    <tr><td class="paramname">pucData</td><td>is the buffer that data will be used for writing. </td></tr>
    <tr><td class="paramname">ulNumBlocks</td><td>is the number of blocks to write.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is use to write blocks to a physical device from the buffer pointed to by the /e pucData buffer. If the number of blocks is greater than one then the block address will increment and write to the next block until /e ulNumBlocks * Block Size bytes have been written.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>the number of bytes that were written to the device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a184e9be3c0f59b0795ae26fcae851af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(*  tMSCDMedia::Close) (void *pvDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function close the drive number in use by the mass storage class device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvDrive</td><td>is the pointer that was returned from a call to USBDMSCStorageOpen().</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to close the physical drive number associated with the parameter /e pvDrive. This function will return 0 if the drive was closed successfully and any other value will indicate a failure.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>0 if the drive was successfully closed or non-zero for a failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afa0759ac0b50b18b041650c024c34257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(*  tMSCDMedia::NumBlocks) (void *pvDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will return the number of blocks present on a device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvDrive</td><td>is the pointer that was returned from a call to USBDMSCStorageOpen().</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to return the total number of blocks on a physical device based on the /e pvDrive parameter.</p>
<p>/retval Returns the number of blocks that are present in a device. </p>

</div>
</div>
<a class="anchor" id="a43e3748fb4f1456c3c17ae0c653e0ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(*  tMSCDMedia::Open) (uint32_t ulDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to initialize and open the physical drive number associated with the parameter ulDrive. The function will return zero if the drive could not be opened for some reason. In the case of removable device like an SD card this function should return zero if the SD card is not present. The function returns a pointer to data that should be passed to other APIs or it will return 0 if no drive was found. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>usbdmsc.h</li>
</ul>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
