<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>UART_stdio.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UART_stdio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This header file contains function prototypes which interface interactively with the user through the serial console to perform some utility operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_u_a_r_t_8h.html">ti/drv/uart/UART.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd8c0995bbd6c9c5de0b8a2d9d23e84e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#abd8c0995bbd6c9c5de0b8a2d9d23e84e">UART_puts</a> (const char *pTxBuffer, int32_t numBytesToWrite)</td></tr>
<tr class="memdesc:abd8c0995bbd6c9c5de0b8a2d9d23e84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function writes data from a specified buffer onto the transmitter FIFO of UART.  <a href="#abd8c0995bbd6c9c5de0b8a2d9d23e84e">More...</a><br /></td></tr>
<tr class="separator:abd8c0995bbd6c9c5de0b8a2d9d23e84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ed0cbc5c8c81266c4158aea1f54295"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#ac9ed0cbc5c8c81266c4158aea1f54295">UART_gets</a> (char *pRxBuffer, int32_t numBytesToRead)</td></tr>
<tr class="memdesc:ac9ed0cbc5c8c81266c4158aea1f54295"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads data from the receiver FIFO to a buffer in the receiver.  <a href="#ac9ed0cbc5c8c81266c4158aea1f54295">More...</a><br /></td></tr>
<tr class="separator:ac9ed0cbc5c8c81266c4158aea1f54295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d22cd84557952df809ce5325ffaca38"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#a0d22cd84557952df809ce5325ffaca38">UART_dataWrite</a> (const char *pcBuf, uint32_t ulLen)</td></tr>
<tr class="separator:a0d22cd84557952df809ce5325ffaca38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5298e4fb4ed69686137dbdeee26d7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#a0f5298e4fb4ed69686137dbdeee26d7a">UART_printf</a> (const char *pcString,...)</td></tr>
<tr class="separator:a0f5298e4fb4ed69686137dbdeee26d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b90264c13c987ad6a70aaa31974d67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#ac9b90264c13c987ad6a70aaa31974d67">UART_stdioInit2</a> (uint32_t instance, <a class="el" href="group___d_r_v___u_a_r_t___a_p_i___m_o_d_u_l_e.html#ga6162c608c1a65055a43a924523415536">UART_Params</a> *uartParams)</td></tr>
<tr class="memdesc:ac9b90264c13c987ad6a70aaa31974d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the specified UART instance for use for console operations , with a configuration specified by 'uartParams'.  <a href="#ac9b90264c13c987ad6a70aaa31974d67">More...</a><br /></td></tr>
<tr class="separator:ac9b90264c13c987ad6a70aaa31974d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb39b4f42eba98ea5b09ba16a55f9408"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#afb39b4f42eba98ea5b09ba16a55f9408">UART_stdioInit</a> (uint32_t value)</td></tr>
<tr class="memdesc:afb39b4f42eba98ea5b09ba16a55f9408"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the specified UART instance for use for console operations.  <a href="#afb39b4f42eba98ea5b09ba16a55f9408">More...</a><br /></td></tr>
<tr class="separator:afb39b4f42eba98ea5b09ba16a55f9408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf77fdce1fdd18c4b45bc46d28d6bda"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#acbf77fdce1fdd18c4b45bc46d28d6bda">UART_scanFmt</a> (const char *pString,...)</td></tr>
<tr class="memdesc:acbf77fdce1fdd18c4b45bc46d28d6bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function shall read the formatted input from UART console. Format specifier follows %[fill][width]specifier Following formatting specifier are supported.  <a href="#acbf77fdce1fdd18c4b45bc46d28d6bda">More...</a><br /></td></tr>
<tr class="separator:acbf77fdce1fdd18c4b45bc46d28d6bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f623d747b5139928cf725a190b2f5bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#a2f623d747b5139928cf725a190b2f5bf">UART_stdioDeInit</a> (void)</td></tr>
<tr class="memdesc:a2f623d747b5139928cf725a190b2f5bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function de-initializes the UART instance that is opened for console operations.  <a href="#a2f623d747b5139928cf725a190b2f5bf">More...</a><br /></td></tr>
<tr class="separator:a2f623d747b5139928cf725a190b2f5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538aae87cdf4c77ec69afdcd3d41e1bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_a_r_t__stdio_8h.html#a538aae87cdf4c77ec69afdcd3d41e1bf">UART_printStatus</a> (const char *statusString)</td></tr>
<tr class="memdesc:a538aae87cdf4c77ec69afdcd3d41e1bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints the status on the UART instance that is opened for console operations.  <a href="#a538aae87cdf4c77ec69afdcd3d41e1bf">More...</a><br /></td></tr>
<tr class="separator:a538aae87cdf4c77ec69afdcd3d41e1bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header file contains function prototypes which interface interactively with the user through the serial console to perform some utility operations. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0d22cd84557952df809ce5325ffaca38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t UART_dataWrite </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a string of characters to the UART output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcBuf</td><td>points to a buffer containing the string to transmit. </td></tr>
    <tr><td class="paramname">ulLen</td><td>is the length of the string to transmit.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will transmit the string to the UART output. The number of characters transmitted is determined by the <em>ulLen</em> parameter. This function does no interpretation or translation of any characters. Since the output is sent to a UART, any LF (/n) characters encountered will be replaced with a CRLF pair.</p>
<p>Besides using the <em>ulLen</em> parameter to stop transmitting the string, if a null character (0) is encountered, then no more characters will be transmitted and the function will return.</p>
<p>In non-buffered mode, this function is blocking and will not return until all the characters have been written to the output FIFO. In buffered mode, the characters are written to the UART transmit buffer and the call returns immediately. If insufficient space remains in the transmit buffer, additional characters are discarded.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the count of characters written. </dd></dl>

</div>
</div>
<a class="anchor" id="ac9ed0cbc5c8c81266c4158aea1f54295"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t UART_gets </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pRxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>numBytesToRead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads data from the receiver FIFO to a buffer in the receiver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pRxBuffer</td><td>Pointer to a buffer in the receiver. </td></tr>
    <tr><td class="paramname">numBytesToRead</td><td>The number of bytes the receiver buffer can hold. However, if the user wishes not to specify this parameter, he has freedom to do so. In that case, the user has to pass a negative value for this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read from the receiver FIFO.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The two exit points for this function are: 1&gt; To enter an ESC character or a carraige return character('Enter' key on the Keyboard).<br />
 2&gt; Specify a limit to the number of bytes to be read. <br />
 Some example function calls of this function are:</dd></dl>
<p>UARTGets(rxBuffer, -2): This reads characters from the receiver FIFO of UART until the occurence of a carriage return ('Enter' key on the keyboard pressed) or an ESC character.</p>
<p>UARTGets(rxBuffer, 12): This reads characters until 12 characters have been read or until an occurence of a carriage return or an ESC character, whichever occurs first. </p>

</div>
</div>
<a class="anchor" id="a0f5298e4fb4ed69686137dbdeee26d7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_printf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple UART based printf function supporting %c, %d, %p, %s, %u, %x, and %X.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcString</td><td>is the format string. </td></tr>
    <tr><td class="paramname">...</td><td>are the optional arguments, which depend on the contents of the format string.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is very similar to the C library <code>fprintf()</code> function. All of its output will be sent to the UART. Only the following formatting characters are supported:</p>
<ul>
<li>%c to print a character</li>
<li>%d to print a decimal value</li>
<li>%s to print a string</li>
<li>%u to print an unsigned decimal value</li>
<li>%x to print a hexadecimal value using lower case letters</li>
<li>%X to print a hexadecimal value using lower case letters (not upper case letters as would typically be used)</li>
<li>%p to print a pointer as a hexadecimal value</li>
<li>%% to print out a % character</li>
</ul>
<p>For %s, %d, %u, %p, %x, and %X, an optional number may reside between the % and the format character, which specifies the minimum number of characters to use for that value; if preceded by a 0 then the extra characters will be filled with zeros instead of spaces. For example, <code>\%8d'' will use eight characters to print the decimal value with spaces added to reach eight;</code>%08d'' will use eight characters as well but will add zeroes instead of spaces.</p>
<p>The type of the arguments after <em>pcString</em> must match the requirements of the format string. For example, if an integer was passed where a string was expected, an error of some kind will most likely occur.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a538aae87cdf4c77ec69afdcd3d41e1bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_printStatus </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>statusString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prints the status on the UART instance that is opened for console operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statusString</td><td>- string pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="abd8c0995bbd6c9c5de0b8a2d9d23e84e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t UART_puts </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>numBytesToWrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function writes data from a specified buffer onto the transmitter FIFO of UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTxBuffer</td><td>Pointer to a buffer in the transmitter. </td></tr>
    <tr><td class="paramname">numBytesToWrite</td><td>Number of bytes to be transmitted to the transmitter FIFO. The user has the freedom to not specify any valid value for this if he wants to print until the occurence of a NULL character. In this case, he has to pass a negative value as this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written to the transmitter FIFO.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>1&gt; Whenever a null character(\0) is encountered in the data to be transmitted, the transmission is stopped. <br />
 2&gt; - Whenever the transmitter data has a new line character(\n), it is interpreted as a new line(\n) + carraige return(\r) characters. This is because the serial console interprets a new line character as it is and does not introduce a carraige return. <br />
 Some example function calls of this function are: <br />
 UARTPuts(txArray, -2): This shall print the contents of txArray[] until the occurence of a NULL character. <br />
 UARTPuts("Hello World", 8): This shall print the first 8 characters of the string shown. <br />
 UARTPuts("Hello World", 20): This shall print the string shown until the occurence of the NULL character. Here, the NULL character is encountered earlier than the length of 20 bytes.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="acbf77fdce1fdd18c4b45bc46d28d6bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t UART_scanFmt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function shall read the formatted input from UART console. Format specifier follows %[fill][width]specifier Following formatting specifier are supported. </p>
<ul>
<li>c to input a character.</li>
<li>d to input a decimal value.</li>
<li>s to input a string.</li>
<li>u to input an unsigned decimal value.</li>
<li>x, %X to input a hexadecimal value using lower case letters.</li>
<li>p to input a pointer as a hexadecimal value.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pString</td><td>Pointer to the format string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">S_PASS</td><td>Sucessfully executed. </td></tr>
    <tr><td class="paramname">E_FAIL</td><td>If an error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2f623d747b5139928cf725a190b2f5bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_stdioDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function de-initializes the UART instance that is opened for console operations. </p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="afb39b4f42eba98ea5b09ba16a55f9408"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_stdioInit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the specified UART instance for use for console operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>- the UART instance number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ac9b90264c13c987ad6a70aaa31974d67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_stdioInit2 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___d_r_v___u_a_r_t___a_p_i___m_o_d_u_l_e.html#ga6162c608c1a65055a43a924523415536">UART_Params</a> *&#160;</td>
          <td class="paramname"><em>uartParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the specified UART instance for use for console operations , with a configuration specified by 'uartParams'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>- uart instance ID.</td></tr>
    <tr><td class="paramname">uartParams</td><td>- Configuration parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
