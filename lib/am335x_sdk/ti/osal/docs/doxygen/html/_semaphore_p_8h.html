<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SemaphoreP.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SemaphoreP.h File Reference<div class="ingroups"><a class="el" href="group___d_r_v___o_s_a_l___m_o_d_u_l_e.html">OSAL</a> &raquo; <a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html">SemaphoreP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Semaphore module for the RTOS Porting Interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_semaphore_p___params__s.html">SemaphoreP_Params_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic SemaphoreP Parameters.  <a href="struct_semaphore_p___params__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6d1991df030b91d441c8bc886739c29d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga6d1991df030b91d441c8bc886739c29d">SemaphoreP_WAIT_FOREVER</a>&#160;&#160;&#160;(~((uint32_t)0U))</td></tr>
<tr class="memdesc:ga6d1991df030b91d441c8bc886739c29d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait forever define.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga6d1991df030b91d441c8bc886739c29d">More...</a><br /></td></tr>
<tr class="separator:ga6d1991df030b91d441c8bc886739c29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39cd521223b38fd00a334c57929c67c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga39cd521223b38fd00a334c57929c67c7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga39cd521223b38fd00a334c57929c67c7">SemaphoreP_NO_WAIT</a>&#160;&#160;&#160;((uint32_t)0U)</td></tr>
<tr class="memdesc:ga39cd521223b38fd00a334c57929c67c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">No wait define. <br /></td></tr>
<tr class="separator:ga39cd521223b38fd00a334c57929c67c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7f34865f33e666455692544e5f12d1f2"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a></td></tr>
<tr class="memdesc:ga7f34865f33e666455692544e5f12d1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque client reference to an instance of a SemaphoreP.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">More...</a><br /></td></tr>
<tr class="separator:ga7f34865f33e666455692544e5f12d1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga247036783e0f395ec07f4d6234d6f1a1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_semaphore_p___params__s.html">SemaphoreP_Params_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga247036783e0f395ec07f4d6234d6f1a1">SemaphoreP_Params</a></td></tr>
<tr class="memdesc:ga247036783e0f395ec07f4d6234d6f1a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic SemaphoreP Parameters.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga247036783e0f395ec07f4d6234d6f1a1">More...</a><br /></td></tr>
<tr class="separator:ga247036783e0f395ec07f4d6234d6f1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa0c3d0617adedcce5a3b7fb22bcda5af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaa0c3d0617adedcce5a3b7fb22bcda5af">SemaphoreP_create</a> (uint32_t count, const <a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga247036783e0f395ec07f4d6234d6f1a1">SemaphoreP_Params</a> *semParams)</td></tr>
<tr class="memdesc:gaa0c3d0617adedcce5a3b7fb22bcda5af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to create a semaphore.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#gaa0c3d0617adedcce5a3b7fb22bcda5af">More...</a><br /></td></tr>
<tr class="separator:gaa0c3d0617adedcce5a3b7fb22bcda5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70866915ded7dd8ee237664095bfa6a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga70866915ded7dd8ee237664095bfa6a0">SemaphoreP_delete</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:ga70866915ded7dd8ee237664095bfa6a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to delete a semaphore.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga70866915ded7dd8ee237664095bfa6a0">More...</a><br /></td></tr>
<tr class="separator:ga70866915ded7dd8ee237664095bfa6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e3a23ad3dde981c5ee568cb850b50ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7e3a23ad3dde981c5ee568cb850b50ec">SemaphoreP_Params_init</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga247036783e0f395ec07f4d6234d6f1a1">SemaphoreP_Params</a> *semParams)</td></tr>
<tr class="memdesc:ga7e3a23ad3dde981c5ee568cb850b50ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize params structure to default values.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7e3a23ad3dde981c5ee568cb850b50ec">More...</a><br /></td></tr>
<tr class="separator:ga7e3a23ad3dde981c5ee568cb850b50ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36ff6801e5213cca2e4b520ed0a00c66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga36ff6801e5213cca2e4b520ed0a00c66">SemaphoreP_pend</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle, uint32_t timeout)</td></tr>
<tr class="memdesc:ga36ff6801e5213cca2e4b520ed0a00c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to pend (wait) on a semaphore.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga36ff6801e5213cca2e4b520ed0a00c66">More...</a><br /></td></tr>
<tr class="separator:ga36ff6801e5213cca2e4b520ed0a00c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69e41d13c3a0b23176286acc84b27b38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga69e41d13c3a0b23176286acc84b27b38">SemaphoreP_post</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:ga69e41d13c3a0b23176286acc84b27b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to post (signal) a semaphore.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga69e41d13c3a0b23176286acc84b27b38">More...</a><br /></td></tr>
<tr class="separator:ga69e41d13c3a0b23176286acc84b27b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab31fb9004762b07f44cda91526b80f34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gab31fb9004762b07f44cda91526b80f34">SemaphoreP_postFromClock</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:gab31fb9004762b07f44cda91526b80f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to post (signal) a semaphore from an ClockP function.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#gab31fb9004762b07f44cda91526b80f34">More...</a><br /></td></tr>
<tr class="separator:gab31fb9004762b07f44cda91526b80f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga688a460e741f7b63b80f36f3453611c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga688a460e741f7b63b80f36f3453611c6">SemaphoreP_postFromISR</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:ga688a460e741f7b63b80f36f3453611c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to post (signal) a semaphore from an ISR.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga688a460e741f7b63b80f36f3453611c6">More...</a><br /></td></tr>
<tr class="separator:ga688a460e741f7b63b80f36f3453611c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e3c06c58733e9f311aee65e4aac6a24"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga6e3c06c58733e9f311aee65e4aac6a24">SemaphoreP_getCount</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:ga6e3c06c58733e9f311aee65e4aac6a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to return the count of a semaphore.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#ga6e3c06c58733e9f311aee65e4aac6a24">More...</a><br /></td></tr>
<tr class="separator:ga6e3c06c58733e9f311aee65e4aac6a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8eb52f27bcc1f34e2e7fe331d900e23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gae8eb52f27bcc1f34e2e7fe331d900e23">SemaphoreP_reset</a> (<a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga7f34865f33e666455692544e5f12d1f2">SemaphoreP_Handle</a> semPhandle)</td></tr>
<tr class="memdesc:gae8eb52f27bcc1f34e2e7fe331d900e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to clear a semaphore for resuse.  <a href="group___d_r_v___o_s_a_l___semaphore_p.html#gae8eb52f27bcc1f34e2e7fe331d900e23">More...</a><br /></td></tr>
<tr class="separator:gae8eb52f27bcc1f34e2e7fe331d900e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Semaphore status code</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc12e4dd542549d40d34dfc722396251e"></a><a class="anchor" id="SemaphoreP_Status"></a></p>
</td></tr>
<tr class="memitem:gaa9090bec35667827c175f0ae7c97849d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa9090bec35667827c175f0ae7c97849d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SemaphoreP_OK</b>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:gaa9090bec35667827c175f0ae7c97849d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1057b13eef989c1e4f6aac8e02de9343"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga1057b13eef989c1e4f6aac8e02de9343">SemaphoreP_FAILURE</a>&#160;&#160;&#160;(-(int32_t)1)</td></tr>
<tr class="separator:ga1057b13eef989c1e4f6aac8e02de9343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0805a03fbf0a36e8a137cb89f3dbc95f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga0805a03fbf0a36e8a137cb89f3dbc95f">SemaphoreP_TIMEOUT</a>&#160;&#160;&#160;(-(int32_t)2)</td></tr>
<tr class="separator:ga0805a03fbf0a36e8a137cb89f3dbc95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d8f8d3c9a97e215c6644a424aa49b1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#ga8d8f8d3c9a97e215c6644a424aa49b1a">SemaphoreP_UNSUPPORTED</a>&#160;&#160;&#160;(-(int32_t)3)</td></tr>
<tr class="separator:ga8d8f8d3c9a97e215c6644a424aa49b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa41f8bf38c5ed11c10e7ba20082e9af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaa41f8bf38c5ed11c10e7ba20082e9af"></a>
typedef int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa41f8bf38c5ed11c10e7ba20082e9af">SemaphoreP_Status</a></td></tr>
<tr class="memdesc:gaaa41f8bf38c5ed11c10e7ba20082e9af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status codes for SemaphoreP APIs. <br /></td></tr>
<tr class="separator:gaaa41f8bf38c5ed11c10e7ba20082e9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Mode of Semaphore</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp6ef9b680bba976d7bc29160dbe227b0f"></a><a class="anchor" id="SemaphoreP_Mode"></a></p>
</td></tr>
<tr class="memitem:ga4f3075afcc64df966512227313214fdf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4f3075afcc64df966512227313214fdf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SemaphoreP_Mode_COUNTING</b>&#160;&#160;&#160;(0x0U)</td></tr>
<tr class="separator:ga4f3075afcc64df966512227313214fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bb6bc14a8036d95ee6723d278f30470"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3bb6bc14a8036d95ee6723d278f30470"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SemaphoreP_Mode_BINARY</b>&#160;&#160;&#160;(0x1U)</td></tr>
<tr class="separator:ga3bb6bc14a8036d95ee6723d278f30470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa6af22c109ddae7a91bcb4d667c3e05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaa6af22c109ddae7a91bcb4d667c3e05"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_r_v___o_s_a_l___semaphore_p.html#gaaa6af22c109ddae7a91bcb4d667c3e05">SemaphoreP_Mode</a></td></tr>
<tr class="memdesc:gaaa6af22c109ddae7a91bcb4d667c3e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode of the semaphore. <br /></td></tr>
<tr class="separator:gaaa6af22c109ddae7a91bcb4d667c3e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Semaphore module for the RTOS Porting Interface. </p>
<p>============================================================================</p>
<p>Semaphores can be counting semaphores or binary semaphores. Counting semaphores keep track of the number of times the semaphore has been posted with post functions. This is useful, for example, if you have a group of resources that are shared between tasks. Such tasks might call pend() to see if a resource is available before using one. A count of zero for a counting semaphore denotes that it is not available. A positive count denotes how many times a SemaphoreP_pend can be called before it is blocked (or returns SemaphoreP_TIMEOUT).</p>
<p>Binary semaphores can have only two states: available (count = 1) and unavailable (count = 0). They can be used to share a single resource between tasks. They can also be used for a basic signalling mechanism, where the semaphore can be posted multiple times. Binary semaphores do not keep track of the count; they simply track whether the semaphore has been posted or not. </p><hr/>
</div></div><!-- contents -->
<hr size="1"><small>
Copyright  2020, Texas Instruments Incorporated</small>
</body>
</html>
